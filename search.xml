<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>CS193p_assignment2</title>
    <url>/2022/02/18/cs193p-ls/</url>
    <content><![CDATA[<p>â€‹    ä¸€ä¸ªå†æ—¶å¾ˆä¹…çš„blogï¼Œå­¦å®ŒLesson4ä¹‹åï¼Œè‡ªå·±ç çš„Assignment2çš„ä»£ç ï¼Œä¹Ÿä¸çŸ¥é“å¯¹ä¸å¯¹ï¼ˆæ¯•ç«Ÿæ²¡æœ‰å‚è€ƒä»£ç ï¼‰ï¼Œä»…ä¾›å‚è€ƒå•Š</p>
<h3 id="Task1-amp-2-çœç•¥"><a href="#Task1-amp-2-çœç•¥" class="headerlink" title="Task1&amp;2: çœç•¥"></a>Task1&amp;2: çœç•¥</h3><h3 id="Task3ï¼šå°†ä¸»é¢˜æ·»åŠ åˆ°æ¨¡å‹ä¸­ï¼ŒåŒ…æ‹¬ä¸»é¢˜çš„åç§°ã€ä¸€ç»„è¡¨æƒ…ç¬¦å·ã€è¦å±•ç¤ºçš„å¡ç‰‡å¯¹æ•°å’Œé€‚å½“çš„èƒŒæ™¯é¢œè‰²"><a href="#Task3ï¼šå°†ä¸»é¢˜æ·»åŠ åˆ°æ¨¡å‹ä¸­ï¼ŒåŒ…æ‹¬ä¸»é¢˜çš„åç§°ã€ä¸€ç»„è¡¨æƒ…ç¬¦å·ã€è¦å±•ç¤ºçš„å¡ç‰‡å¯¹æ•°å’Œé€‚å½“çš„èƒŒæ™¯é¢œè‰²" class="headerlink" title="Task3ï¼šå°†ä¸»é¢˜æ·»åŠ åˆ°æ¨¡å‹ä¸­ï¼ŒåŒ…æ‹¬ä¸»é¢˜çš„åç§°ã€ä¸€ç»„è¡¨æƒ…ç¬¦å·ã€è¦å±•ç¤ºçš„å¡ç‰‡å¯¹æ•°å’Œé€‚å½“çš„èƒŒæ™¯é¢œè‰²"></a>Task3ï¼šå°†ä¸»é¢˜æ·»åŠ åˆ°æ¨¡å‹ä¸­ï¼ŒåŒ…æ‹¬ä¸»é¢˜çš„åç§°ã€ä¸€ç»„è¡¨æƒ…ç¬¦å·ã€è¦å±•ç¤ºçš„å¡ç‰‡å¯¹æ•°å’Œé€‚å½“çš„èƒŒæ™¯é¢œè‰²</h3><p>åˆ›å»ºä¸€ä¸ªç»“æ„ä½“å­˜å‚¨ä¸»é¢˜</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Theme</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> emojis: [<span class="type">String</span>]</span><br><span class="line">    <span class="keyword">var</span> numberOfPairsOfCards: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> color: <span class="type">String</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<span id="more"></span>

<h3 id="Task4-amp-8ï¼šåœ¨æ¸¸æˆä¸­è‡³å°‘æœ‰ä¸€ä¸ªä¸»é¢˜å±•ç¤ºçš„å¡ç‰‡æ•°å°‘äºæ€»æ•°ï¼Œæ”¯æŒå…­ç§ä¸»é¢˜"><a href="#Task4-amp-8ï¼šåœ¨æ¸¸æˆä¸­è‡³å°‘æœ‰ä¸€ä¸ªä¸»é¢˜å±•ç¤ºçš„å¡ç‰‡æ•°å°‘äºæ€»æ•°ï¼Œæ”¯æŒå…­ç§ä¸»é¢˜" class="headerlink" title="Task4&amp;8ï¼šåœ¨æ¸¸æˆä¸­è‡³å°‘æœ‰ä¸€ä¸ªä¸»é¢˜å±•ç¤ºçš„å¡ç‰‡æ•°å°‘äºæ€»æ•°ï¼Œæ”¯æŒå…­ç§ä¸»é¢˜"></a>Task4&amp;8ï¼šåœ¨æ¸¸æˆä¸­è‡³å°‘æœ‰ä¸€ä¸ªä¸»é¢˜å±•ç¤ºçš„å¡ç‰‡æ•°å°‘äºæ€»æ•°ï¼Œæ”¯æŒå…­ç§ä¸»é¢˜</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private(set)</span> <span class="keyword">var</span> themes: [<span class="type">Theme</span>] <span class="operator">=</span> [</span><br><span class="line">    <span class="type">Theme</span>(</span><br><span class="line">        name: <span class="string">&quot;Veiche&quot;</span>,</span><br><span class="line">        emojis: [<span class="string">&quot;ğŸšŒ&quot;</span>,<span class="string">&quot;ğŸš—&quot;</span>,<span class="string">&quot;ğŸš“&quot;</span>,<span class="string">&quot;ğŸš‘&quot;</span>,<span class="string">&quot;ğŸ›»&quot;</span>,<span class="string">&quot;ğŸ&quot;</span>,<span class="string">&quot;ğŸš²&quot;</span>,<span class="string">&quot;ğŸš‚&quot;</span>,<span class="string">&quot;âœˆï¸&quot;</span>,<span class="string">&quot;ğŸš€&quot;</span>,<span class="string">&quot;ğŸ›¶&quot;</span>,<span class="string">&quot;ğŸ›¸&quot;</span>,<span class="string">&quot;ğŸš•&quot;</span>,<span class="string">&quot;ğŸš™&quot;</span>,<span class="string">&quot;ğŸš&quot;</span>,<span class="string">&quot;ğŸš›&quot;</span>,<span class="string">&quot;ğŸš&quot;</span>,<span class="string">&quot;ğŸ&quot;</span>,<span class="string">&quot;ğŸ¦½&quot;</span>,<span class="string">&quot;ğŸš’&quot;</span>,<span class="string">&quot;ğŸšœ&quot;</span>,<span class="string">&quot;ğŸš &quot;</span>,<span class="string">&quot;ğŸš„&quot;</span>,<span class="string">&quot;ğŸ›°&quot;</span>],</span><br><span class="line">        numberOfPairsOfCards: <span class="number">8</span>,</span><br><span class="line">        color: <span class="string">&quot;red&quot;</span>),</span><br><span class="line">    <span class="type">Theme</span>(</span><br><span class="line">        name: <span class="string">&quot;Animal&quot;</span>,</span><br><span class="line">        emojis: [<span class="string">&quot;ğŸ¶&quot;</span>,<span class="string">&quot;ğŸ±&quot;</span>,<span class="string">&quot;ğŸ­&quot;</span>,<span class="string">&quot;ğŸ°&quot;</span>,<span class="string">&quot;ğŸ¦Š&quot;</span>,<span class="string">&quot;ğŸ»&quot;</span>,<span class="string">&quot;ğŸ¼&quot;</span>,<span class="string">&quot;ğŸ®&quot;</span>,<span class="string">&quot;ğŸµ&quot;</span>,<span class="string">&quot;ğŸ§&quot;</span>,<span class="string">&quot;ğŸ¦‹&quot;</span>,<span class="string">&quot;ğŸ¢&quot;</span>,<span class="string">&quot;ğŸ&quot;</span>,<span class="string">&quot;ğŸ¦†&quot;</span>,<span class="string">&quot;ğŸ™&quot;</span>,<span class="string">&quot;ğŸ¦&quot;</span>,<span class="string">&quot;ğŸ¦€&quot;</span>],</span><br><span class="line">        numberOfPairsOfCards: <span class="number">6</span>,</span><br><span class="line">        color: <span class="string">&quot;blue&quot;</span>),</span><br><span class="line">    <span class="type">Theme</span>(name: <span class="string">&quot;Face&quot;</span>,</span><br><span class="line">           emojis: [<span class="string">&quot;ğŸ˜€&quot;</span>,<span class="string">&quot;â˜ºï¸&quot;</span>,<span class="string">&quot;ğŸ˜Š&quot;</span>,<span class="string">&quot;ğŸ˜‡&quot;</span>,<span class="string">&quot;ğŸ¥°&quot;</span>,<span class="string">&quot;ğŸ˜Œ&quot;</span>,<span class="string">&quot;ğŸ˜‰&quot;</span>,<span class="string">&quot;ğŸ™ƒ&quot;</span>,<span class="string">&quot;ğŸ˜‹&quot;</span>,<span class="string">&quot;ğŸ¤¨&quot;</span>,<span class="string">&quot;ğŸ˜&quot;</span>,<span class="string">&quot;ğŸ˜’&quot;</span>,<span class="string">&quot;ğŸ˜­&quot;</span>,<span class="string">&quot;ğŸ¥µ&quot;</span>,<span class="string">&quot;ğŸ˜³&quot;</span>,<span class="string">&quot;ğŸ¤”&quot;</span>,<span class="string">&quot;ğŸ¤—&quot;</span>,<span class="string">&quot;ğŸ˜·&quot;</span>],</span><br><span class="line">           numberOfPairsOfCards: <span class="number">7</span>,</span><br><span class="line">           color: <span class="string">&quot;green&quot;</span>),</span><br><span class="line">	<span class="comment">//æ·»åŠ 6ç§</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> emojis <span class="operator">=</span> theme.emojis.shuffled()</span><br></pre></td></tr></table></figure>
<h3 id="Task5-amp-6-amp-7ï¼šä¸å­˜åœ¨æ°¸è¿œä¸ä¼šå‡ºç°çš„å¡ç‰‡ï¼Œä¸å…è®¸å‡ºç°ä¸¤å¯¹ç›¸åŒç¬¦å·çš„å¡ç‰‡-ä¸»é¢˜ä¸­æŒ‡å®šæ˜¾ç¤ºçš„å¡ç‰‡æ•°é‡è¶…è¿‡å¡ç”¨çš„æ•°é‡ï¼Œè‡ªåŠ¨å‡å°‘æ˜¾ç¤ºçš„å¡ç‰‡æ•°é‡"><a href="#Task5-amp-6-amp-7ï¼šä¸å­˜åœ¨æ°¸è¿œä¸ä¼šå‡ºç°çš„å¡ç‰‡ï¼Œä¸å…è®¸å‡ºç°ä¸¤å¯¹ç›¸åŒç¬¦å·çš„å¡ç‰‡-ä¸»é¢˜ä¸­æŒ‡å®šæ˜¾ç¤ºçš„å¡ç‰‡æ•°é‡è¶…è¿‡å¡ç”¨çš„æ•°é‡ï¼Œè‡ªåŠ¨å‡å°‘æ˜¾ç¤ºçš„å¡ç‰‡æ•°é‡" class="headerlink" title="Task5&amp;6&amp;7ï¼šä¸å­˜åœ¨æ°¸è¿œä¸ä¼šå‡ºç°çš„å¡ç‰‡ï¼Œä¸å…è®¸å‡ºç°ä¸¤å¯¹ç›¸åŒç¬¦å·çš„å¡ç‰‡ ä¸»é¢˜ä¸­æŒ‡å®šæ˜¾ç¤ºçš„å¡ç‰‡æ•°é‡è¶…è¿‡å¡ç”¨çš„æ•°é‡ï¼Œè‡ªåŠ¨å‡å°‘æ˜¾ç¤ºçš„å¡ç‰‡æ•°é‡"></a>Task5&amp;6&amp;7ï¼šä¸å­˜åœ¨æ°¸è¿œä¸ä¼šå‡ºç°çš„å¡ç‰‡ï¼Œä¸å…è®¸å‡ºç°ä¸¤å¯¹ç›¸åŒç¬¦å·çš„å¡ç‰‡ ä¸»é¢˜ä¸­æŒ‡å®šæ˜¾ç¤ºçš„å¡ç‰‡æ•°é‡è¶…è¿‡å¡ç”¨çš„æ•°é‡ï¼Œè‡ªåŠ¨å‡å°‘æ˜¾ç¤ºçš„å¡ç‰‡æ•°é‡</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> pairs <span class="operator">=</span> emojis.count</span><br><span class="line">       <span class="keyword">if</span> pairs <span class="operator">&gt;</span> theme.numberOfPairsOfCards &#123;</span><br><span class="line">           pairs <span class="operator">=</span> theme.numberOfPairsOfCards</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">//modelçš„æ•°æ®ç±»å‹æ˜¯modelç»“æ„</span></span><br><span class="line">       <span class="keyword">return</span> <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;(numberOfPairsOfCards: pairs) &#123; pairIndex <span class="keyword">in</span></span><br><span class="line">           emojis[pairIndex]</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>
<h3 id="Task9ï¼šæ–°ä¸»é¢˜èƒ½é€šè¿‡ä»£ç è¢«æ·»åŠ åˆ°æ¸¸æˆä¸­"><a href="#Task9ï¼šæ–°ä¸»é¢˜èƒ½é€šè¿‡ä»£ç è¢«æ·»åŠ åˆ°æ¸¸æˆä¸­" class="headerlink" title="Task9ï¼šæ–°ä¸»é¢˜èƒ½é€šè¿‡ä»£ç è¢«æ·»åŠ åˆ°æ¸¸æˆä¸­"></a>Task9ï¼šæ–°ä¸»é¢˜èƒ½é€šè¿‡ä»£ç è¢«æ·»åŠ åˆ°æ¸¸æˆä¸­</h3><h3 id="Task10-amp-11ï¼šåœ¨UIä¸­æ·»åŠ â€New-Gameâ€æŒ‰é’®ï¼Œå¼€å§‹æ–°çš„æ¸¸æˆï¼Œå¼€å§‹æ¸¸æˆåº”é‡æ–°é€‰æ‹©ä¸»é¢˜"><a href="#Task10-amp-11ï¼šåœ¨UIä¸­æ·»åŠ â€New-Gameâ€æŒ‰é’®ï¼Œå¼€å§‹æ–°çš„æ¸¸æˆï¼Œå¼€å§‹æ¸¸æˆåº”é‡æ–°é€‰æ‹©ä¸»é¢˜" class="headerlink" title="Task10&amp;11ï¼šåœ¨UIä¸­æ·»åŠ â€New Gameâ€æŒ‰é’®ï¼Œå¼€å§‹æ–°çš„æ¸¸æˆï¼Œå¼€å§‹æ¸¸æˆåº”é‡æ–°é€‰æ‹©ä¸»é¢˜"></a>Task10&amp;11ï¼šåœ¨UIä¸­æ·»åŠ â€New Gameâ€æŒ‰é’®ï¼Œå¼€å§‹æ–°çš„æ¸¸æˆï¼Œå¼€å§‹æ¸¸æˆåº”é‡æ–°é€‰æ‹©ä¸»é¢˜</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Button</span> &#123;</span><br><span class="line">    viewModel.newGame()</span><br><span class="line">&#125; label: &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;New Game&quot;</span>)</span><br><span class="line">        .font(.largeTitle)</span><br><span class="line">        .foregroundColor(<span class="type">Color</span>.red)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">init</span>(<span class="params">startTheme</span>: <span class="type">Theme</span>? <span class="operator">=</span> <span class="literal">nil</span>)</span> &#123;</span><br><span class="line">	theme <span class="operator">=</span> themes.randomElement()<span class="operator">!</span></span><br><span class="line">	cardcolor <span class="operator">=</span> <span class="type">EmojiMemoryGame</span>.color(theme: theme)</span><br><span class="line">	model <span class="operator">=</span> <span class="type">EmojiMemoryGame</span>.createMemoryGame(theme: theme)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">newGame</span>()</span> &#123;</span><br><span class="line">	theme <span class="operator">=</span> themes.randomElement()<span class="operator">!</span></span><br><span class="line">	cardcolor <span class="operator">=</span> <span class="type">EmojiMemoryGame</span>.color(theme: theme)</span><br><span class="line">	model <span class="operator">=</span> <span class="type">EmojiMemoryGame</span>.createMemoryGame(theme: theme)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Task12-amp-13ï¼šæ¸¸æˆä¸­å¡ç‰‡æ­£é¢æœä¸‹-æ–°æ¸¸æˆå¡ç‰‡è¢«æ‰“ä¹±"><a href="#Task12-amp-13ï¼šæ¸¸æˆä¸­å¡ç‰‡æ­£é¢æœä¸‹-æ–°æ¸¸æˆå¡ç‰‡è¢«æ‰“ä¹±" class="headerlink" title="Task12&amp;13ï¼šæ¸¸æˆä¸­å¡ç‰‡æ­£é¢æœä¸‹,æ–°æ¸¸æˆå¡ç‰‡è¢«æ‰“ä¹±"></a>Task12&amp;13ï¼šæ¸¸æˆä¸­å¡ç‰‡æ­£é¢æœä¸‹,æ–°æ¸¸æˆå¡ç‰‡è¢«æ‰“ä¹±</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">init</span>(<span class="params">numberOfPairsOfCards</span>: <span class="type">Int</span>, <span class="params">creatCardContent</span>: (<span class="type">Int</span>) -&gt; <span class="type">CardContent</span>)</span> &#123;</span><br><span class="line">    cards <span class="operator">=</span> <span class="type">Array</span>&lt;<span class="type">Card</span>&gt;()</span><br><span class="line">    <span class="comment">//æ·»åŠ ä¸¤å€çš„å¡ç‰Œ</span></span><br><span class="line">    <span class="keyword">for</span> pairIndex <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span>numberOfPairsOfCards &#123;</span><br><span class="line">        <span class="keyword">let</span> content <span class="operator">=</span> creatCardContent(pairIndex)</span><br><span class="line">        cards.append(<span class="type">Card</span>(content: content, id: pairIndex<span class="operator">*</span><span class="number">2</span>))</span><br><span class="line">        cards.append(<span class="type">Card</span>(content: content, id: pairIndex<span class="operator">*</span><span class="number">2</span><span class="operator">+</span><span class="number">1</span>))</span><br><span class="line">    &#125;</span><br><span class="line">    cards.shuffle()</span><br><span class="line">&#125;</span><br><span class="line">    </span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Card</span>: <span class="title">Identifiable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> isFaceUp: <span class="type">Bool</span> <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">    <span class="keyword">var</span> isMatched: <span class="type">Bool</span> <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">    <span class="keyword">var</span> content: <span class="type">CardContent</span></span><br><span class="line">    <span class="keyword">var</span> id: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> seen: <span class="type">Bool</span> <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="Task14-amp-16ï¼šåœ¨UIä¸­æ˜¾ç¤ºä¸»é¢˜çš„åç§°å’Œåˆ†æ•°"><a href="#Task14-amp-16ï¼šåœ¨UIä¸­æ˜¾ç¤ºä¸»é¢˜çš„åç§°å’Œåˆ†æ•°" class="headerlink" title="Task14&amp;16ï¼šåœ¨UIä¸­æ˜¾ç¤ºä¸»é¢˜çš„åç§°å’Œåˆ†æ•°"></a>Task14&amp;16ï¼šåœ¨UIä¸­æ˜¾ç¤ºä¸»é¢˜çš„åç§°å’Œåˆ†æ•°</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">HStack</span> &#123;</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Theme:  <span class="subst">\(viewModel.theme.name)</span>&quot;</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="type">Spacer</span>()</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;Score:    <span class="subst">\(viewModel.score)</span>&quot;</span>)</span><br><span class="line">&#125;.foregroundColor(.red)</span><br></pre></td></tr></table></figure>
<h3 id="Task15ï¼šåŒ¹é…æˆåŠŸåˆ†æ•°-2ï¼ŒåŒ¹é…ä¸æˆåŠŸä¸”æ¯å«æœ‰ä¸€å¼ è¢«çœ‹è§è¿‡çš„ç‰Œåˆ†æ•°-2"><a href="#Task15ï¼šåŒ¹é…æˆåŠŸåˆ†æ•°-2ï¼ŒåŒ¹é…ä¸æˆåŠŸä¸”æ¯å«æœ‰ä¸€å¼ è¢«çœ‹è§è¿‡çš„ç‰Œåˆ†æ•°-2" class="headerlink" title="Task15ï¼šåŒ¹é…æˆåŠŸåˆ†æ•°+2ï¼ŒåŒ¹é…ä¸æˆåŠŸä¸”æ¯å«æœ‰ä¸€å¼ è¢«çœ‹è§è¿‡çš„ç‰Œåˆ†æ•°-2"></a>Task15ï¼šåŒ¹é…æˆåŠŸåˆ†æ•°+2ï¼ŒåŒ¹é…ä¸æˆåŠŸä¸”æ¯å«æœ‰ä¸€å¼ è¢«çœ‹è§è¿‡çš„ç‰Œåˆ†æ•°-2</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">choose</span>(<span class="keyword">_</span> <span class="params">card</span>: <span class="type">Card</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> chosenIndex <span class="operator">=</span> cards.firstIndex(where: &#123; <span class="variable">$0</span>.id <span class="operator">==</span> card.id &#125;),</span><br><span class="line">       <span class="operator">!</span>cards[chosenIndex].isFaceUp,</span><br><span class="line">       <span class="operator">!</span>cards[chosenIndex].isMatched</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> potentialMatchIndex <span class="operator">=</span> indexOfTheOneAndOnlyFaceUpCard &#123; <span class="comment">//å¦‚æœæœ‰çº¸ç‰Œè¢«æ€å¼€</span></span><br><span class="line">            <span class="keyword">if</span> cards[chosenIndex].content <span class="operator">==</span> cards[potentialMatchIndex].content &#123; <span class="comment">//èƒ½åŒ¹é…</span></span><br><span class="line">                cards[chosenIndex].isMatched <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">                cards[potentialMatchIndex].isMatched <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">                score <span class="operator">+=</span> <span class="number">2</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> cards[potentialMatchIndex].seen &#123;</span><br><span class="line">                    score <span class="operator">-=</span> <span class="number">1</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> cards[chosenIndex].seen &#123;</span><br><span class="line">                    score <span class="operator">-=</span> <span class="number">1</span></span><br><span class="line">                &#125;</span><br><span class="line">                cards[potentialMatchIndex].seen <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">                cards[chosenIndex].seen <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            indexOfTheOneAndOnlyFaceUpCard <span class="operator">=</span> <span class="literal">nil</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> index <span class="keyword">in</span> cards.indices &#123;</span><br><span class="line">                cards[index].isFaceUp <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            indexOfTheOneAndOnlyFaceUpCard <span class="operator">=</span> chosenIndex</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        cards[chosenIndex].isFaceUp.toggle()</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="å…¨éƒ¨ä»£ç "><a href="#å…¨éƒ¨ä»£ç " class="headerlink" title="å…¨éƒ¨ä»£ç "></a>å…¨éƒ¨ä»£ç </h3><p>ContentView.swift</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ContentView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="meta">@ObservedObject</span> <span class="keyword">var</span> viewModel: <span class="type">EmojiMemoryGame</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        </span><br><span class="line">        <span class="type">ScrollView</span> &#123;</span><br><span class="line">            <span class="type">Button</span> &#123;</span><br><span class="line">                viewModel.newGame()</span><br><span class="line">            &#125; label: &#123;</span><br><span class="line">                <span class="type">Text</span>(<span class="string">&quot;New Game&quot;</span>)</span><br><span class="line">                    .font(.largeTitle)</span><br><span class="line">                    .foregroundColor(<span class="type">Color</span>.red)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">HStack</span> &#123;</span><br><span class="line">                <span class="type">Text</span>(<span class="string">&quot;Theme:  <span class="subst">\(viewModel.theme.name)</span>&quot;</span>)</span><br><span class="line">                    </span><br><span class="line">                <span class="type">Spacer</span>()</span><br><span class="line">                <span class="type">Text</span>(<span class="string">&quot;Score:    <span class="subst">\(viewModel.score)</span>&quot;</span>)</span><br><span class="line">            &#125;.foregroundColor(.red)</span><br><span class="line">            </span><br><span class="line">            <span class="type">LazyVGrid</span>(columns: [<span class="type">GridItem</span>(.adaptive(minimum: <span class="number">75</span>))]) &#123;</span><br><span class="line">                <span class="type">ForEach</span>(viewModel.cards) &#123; card <span class="keyword">in</span></span><br><span class="line">                    <span class="type">CardView</span>(card: card)</span><br><span class="line">                        .aspectRatio(<span class="number">2</span><span class="operator">/</span><span class="number">3</span>, contentMode: .fit)</span><br><span class="line">                        .onTapGesture&#123;</span><br><span class="line">                            viewModel.choose(card)</span><br><span class="line">                        &#125;</span><br><span class="line">                    </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        .foregroundColor(viewModel.cardcolor)</span><br><span class="line">        .padding(.horizontal)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">CardView</span>: <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> card: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;.<span class="type">Card</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ZStack</span>&#123;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">let</span> shape <span class="operator">=</span> <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">20</span>)</span><br><span class="line">            <span class="keyword">if</span> card.isFaceUp &#123;</span><br><span class="line">                shape.fill().foregroundColor(.white)</span><br><span class="line">                shape.strokeBorder(lineWidth: <span class="number">3</span>)</span><br><span class="line">                <span class="type">Text</span>(card.content).font(.largeTitle)</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> card.isMatched &#123;</span><br><span class="line">                shape.opacity(<span class="number">0</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                shape.fill()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ContentView_Previews</span>: <span class="title">PreviewProvider</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">var</span> previews: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> game <span class="operator">=</span> <span class="type">EmojiMemoryGame</span>()</span><br><span class="line">        <span class="type">Group</span> &#123;</span><br><span class="line">            <span class="type">ContentView</span>(viewModel: game)</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>EmojiMemoryGame.swift</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> SwiftUI</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EmojiMemoryGame</span>: <span class="title">ObservableObject</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">createMemoryGame</span>(<span class="params">theme</span>: <span class="type">Theme</span>)</span> -&gt; <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt; &#123; <span class="comment">//æ·»åŠ å‚æ•°</span></span><br><span class="line">        <span class="keyword">let</span> emojis <span class="operator">=</span> theme.emojis.shuffled()</span><br><span class="line">        <span class="keyword">var</span> pairs <span class="operator">=</span> emojis.count</span><br><span class="line">        <span class="keyword">if</span> pairs <span class="operator">&gt;</span> theme.numberOfPairsOfCards &#123;</span><br><span class="line">            pairs <span class="operator">=</span> theme.numberOfPairsOfCards</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//modelçš„æ•°æ®ç±»å‹æ˜¯modelç»“æ„</span></span><br><span class="line">        <span class="keyword">return</span> <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;(numberOfPairsOfCards: pairs) &#123; pairIndex <span class="keyword">in</span></span><br><span class="line">            emojis[pairIndex]</span><br><span class="line">        &#125;</span><br><span class="line">            </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Published</span> <span class="keyword">private</span> <span class="keyword">var</span> model: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;<span class="comment">//åˆå§‹åŒ–æˆ–é™æ€è®¿é—®é™æ€ä¸éœ€è¦å…¨å</span></span><br><span class="line">    <span class="meta">@Published</span> <span class="keyword">private(set)</span> <span class="keyword">var</span> cardcolor: <span class="type">Color</span></span><br><span class="line">    <span class="keyword">private(set)</span> <span class="keyword">var</span> theme: <span class="type">Theme</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">startTheme</span>: <span class="type">Theme</span>? <span class="operator">=</span> <span class="literal">nil</span>)</span> &#123;</span><br><span class="line">        theme <span class="operator">=</span> themes.randomElement()<span class="operator">!</span></span><br><span class="line">        cardcolor <span class="operator">=</span> <span class="type">EmojiMemoryGame</span>.color(theme: theme)</span><br><span class="line">        model <span class="operator">=</span> <span class="type">EmojiMemoryGame</span>.createMemoryGame(theme: theme)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//è¿”å›view model å˜é‡ç±»å‹æ˜¯æ•°ç»„&lt;modelä¸­çš„Card&gt;ç»“æ„</span></span><br><span class="line">    <span class="keyword">var</span> cards: <span class="type">Array</span>&lt;<span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;.<span class="type">Card</span>&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> model.cards<span class="comment">//è¿”å›modelä¸­çš„cardsæ•°ç»„ æ•°ç»„çš„ç»“æ„æ˜¯Card</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">color</span>(<span class="params">theme</span>: <span class="type">Theme</span>)</span> -&gt; <span class="type">Color</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> theme.color <span class="operator">==</span> <span class="string">&quot;red&quot;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Color</span>.red</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> theme.color <span class="operator">==</span> <span class="string">&quot;green&quot;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Color</span>.green</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> theme.color <span class="operator">==</span> <span class="string">&quot;yellow&quot;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Color</span>.yellow</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> theme.color <span class="operator">==</span> <span class="string">&quot;blue&quot;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Color</span>.blue</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> theme.color <span class="operator">==</span> <span class="string">&quot;purple&quot;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Color</span>.purple</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> theme.color <span class="operator">==</span> <span class="string">&quot;pink&quot;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Color</span>.pink</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> theme.color <span class="operator">==</span> <span class="string">&quot;gray&quot;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Color</span>.gray</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> theme.color <span class="operator">==</span> <span class="string">&quot;orange&quot;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Color</span>.orange</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="type">Color</span>.gray</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> score: <span class="type">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> model.score</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// MARK: - Intent(s)</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">choose</span>(<span class="keyword">_</span> <span class="params">card</span>: <span class="type">MemoryGame</span>&lt;<span class="type">String</span>&gt;.<span class="type">Card</span>)</span> &#123;</span><br><span class="line">        model.choose(card)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">newGame</span>()</span> &#123;</span><br><span class="line">        theme <span class="operator">=</span> themes.randomElement()<span class="operator">!</span></span><br><span class="line">        cardcolor <span class="operator">=</span> <span class="type">EmojiMemoryGame</span>.color(theme: theme)</span><br><span class="line">        model <span class="operator">=</span> <span class="type">EmojiMemoryGame</span>.createMemoryGame(theme: theme)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>MemoryGame.swift</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">MemoryGame</span>&lt;<span class="title">CardContent</span>&gt; <span class="title">where</span> <span class="title">CardContent</span>: <span class="title">Equatable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private(set)</span> <span class="keyword">var</span> cards: <span class="type">Array</span>&lt;<span class="type">Card</span>&gt;</span><br><span class="line">    <span class="keyword">private(set)</span> <span class="keyword">var</span> score: <span class="type">Int</span> <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">var</span> indexOfTheOneAndOnlyFaceUpCard: <span class="type">Int</span>?</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">choose</span>(<span class="keyword">_</span> <span class="params">card</span>: <span class="type">Card</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> chosenIndex <span class="operator">=</span> cards.firstIndex(where: &#123; <span class="variable">$0</span>.id <span class="operator">==</span> card.id &#125;),</span><br><span class="line">           <span class="operator">!</span>cards[chosenIndex].isFaceUp,</span><br><span class="line">           <span class="operator">!</span>cards[chosenIndex].isMatched</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">let</span> potentialMatchIndex <span class="operator">=</span> indexOfTheOneAndOnlyFaceUpCard &#123; <span class="comment">//å¦‚æœæœ‰çº¸ç‰Œè¢«æ€å¼€</span></span><br><span class="line">                <span class="keyword">if</span> cards[chosenIndex].content <span class="operator">==</span> cards[potentialMatchIndex].content &#123; <span class="comment">//èƒ½åŒ¹é…</span></span><br><span class="line">                    cards[chosenIndex].isMatched <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">                    cards[potentialMatchIndex].isMatched <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">                    score <span class="operator">+=</span> <span class="number">2</span></span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">if</span> cards[potentialMatchIndex].seen &#123;</span><br><span class="line">                        score <span class="operator">-=</span> <span class="number">1</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">if</span> cards[chosenIndex].seen &#123;</span><br><span class="line">                        score <span class="operator">-=</span> <span class="number">1</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    cards[potentialMatchIndex].seen <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">                    cards[chosenIndex].seen <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                indexOfTheOneAndOnlyFaceUpCard <span class="operator">=</span> <span class="literal">nil</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> index <span class="keyword">in</span> cards.indices &#123;</span><br><span class="line">                    cards[index].isFaceUp <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                indexOfTheOneAndOnlyFaceUpCard <span class="operator">=</span> chosenIndex</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            cards[chosenIndex].isFaceUp.toggle()</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">init</span>(<span class="params">numberOfPairsOfCards</span>: <span class="type">Int</span>, <span class="params">creatCardContent</span>: (<span class="type">Int</span>) -&gt; <span class="type">CardContent</span>)</span> &#123;</span><br><span class="line">        cards <span class="operator">=</span> <span class="type">Array</span>&lt;<span class="type">Card</span>&gt;()</span><br><span class="line">        <span class="comment">//æ·»åŠ ä¸¤å€çš„å¡ç‰Œ</span></span><br><span class="line">        <span class="keyword">for</span> pairIndex <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span>numberOfPairsOfCards &#123;</span><br><span class="line">            <span class="keyword">let</span> content <span class="operator">=</span> creatCardContent(pairIndex)</span><br><span class="line">            cards.append(<span class="type">Card</span>(content: content, id: pairIndex<span class="operator">*</span><span class="number">2</span>))</span><br><span class="line">            cards.append(<span class="type">Card</span>(content: content, id: pairIndex<span class="operator">*</span><span class="number">2</span><span class="operator">+</span><span class="number">1</span>))</span><br><span class="line">        &#125;</span><br><span class="line">        cards.shuffle()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Card</span>: <span class="title">Identifiable</span> </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> isFaceUp: <span class="type">Bool</span> <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">        <span class="keyword">var</span> isMatched: <span class="type">Bool</span> <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">        <span class="keyword">var</span> content: <span class="type">CardContent</span></span><br><span class="line">        <span class="keyword">var</span> id: <span class="type">Int</span></span><br><span class="line">        <span class="keyword">var</span> seen: <span class="type">Bool</span> <span class="operator">=</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Theme.swift</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> Foundation</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Theme</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">var</span> emojis: [<span class="type">String</span>]</span><br><span class="line">    <span class="keyword">var</span> numberOfPairsOfCards: <span class="type">Int</span></span><br><span class="line">    <span class="keyword">var</span> color: <span class="type">String</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private(set)</span> <span class="keyword">var</span> themes: [<span class="type">Theme</span>] <span class="operator">=</span> [</span><br><span class="line">    <span class="type">Theme</span>(</span><br><span class="line">        name: <span class="string">&quot;Veiche&quot;</span>,</span><br><span class="line">        emojis: [<span class="string">&quot;ğŸšŒ&quot;</span>,<span class="string">&quot;ğŸš—&quot;</span>,<span class="string">&quot;ğŸš“&quot;</span>,<span class="string">&quot;ğŸš‘&quot;</span>,<span class="string">&quot;ğŸ›»&quot;</span>,<span class="string">&quot;ğŸ&quot;</span>,<span class="string">&quot;ğŸš²&quot;</span>,<span class="string">&quot;ğŸš‚&quot;</span>,<span class="string">&quot;âœˆï¸&quot;</span>,<span class="string">&quot;ğŸš€&quot;</span>,<span class="string">&quot;ğŸ›¶&quot;</span>,<span class="string">&quot;ğŸ›¸&quot;</span>,<span class="string">&quot;ğŸš•&quot;</span>,<span class="string">&quot;ğŸš™&quot;</span>,<span class="string">&quot;ğŸš&quot;</span>,<span class="string">&quot;ğŸš›&quot;</span>,<span class="string">&quot;ğŸš&quot;</span>,<span class="string">&quot;ğŸ&quot;</span>,<span class="string">&quot;ğŸ¦½&quot;</span>,<span class="string">&quot;ğŸš’&quot;</span>,<span class="string">&quot;ğŸšœ&quot;</span>,<span class="string">&quot;ğŸš &quot;</span>,<span class="string">&quot;ğŸš„&quot;</span>,<span class="string">&quot;ğŸ›°&quot;</span>],</span><br><span class="line">        numberOfPairsOfCards: <span class="number">8</span>,</span><br><span class="line">        color: <span class="string">&quot;red&quot;</span>),</span><br><span class="line">    <span class="type">Theme</span>(</span><br><span class="line">        name: <span class="string">&quot;Animal&quot;</span>,</span><br><span class="line">        emojis: [<span class="string">&quot;ğŸ¶&quot;</span>,<span class="string">&quot;ğŸ±&quot;</span>,<span class="string">&quot;ğŸ­&quot;</span>,<span class="string">&quot;ğŸ°&quot;</span>,<span class="string">&quot;ğŸ¦Š&quot;</span>,<span class="string">&quot;ğŸ»&quot;</span>,<span class="string">&quot;ğŸ¼&quot;</span>,<span class="string">&quot;ğŸ®&quot;</span>,<span class="string">&quot;ğŸµ&quot;</span>,<span class="string">&quot;ğŸ§&quot;</span>,<span class="string">&quot;ğŸ¦‹&quot;</span>,<span class="string">&quot;ğŸ¢&quot;</span>,<span class="string">&quot;ğŸ&quot;</span>,<span class="string">&quot;ğŸ¦†&quot;</span>,<span class="string">&quot;ğŸ™&quot;</span>,<span class="string">&quot;ğŸ¦&quot;</span>,<span class="string">&quot;ğŸ¦€&quot;</span>],</span><br><span class="line">        numberOfPairsOfCards: <span class="number">6</span>,</span><br><span class="line">        color: <span class="string">&quot;blue&quot;</span>),</span><br><span class="line">    <span class="type">Theme</span>(name: <span class="string">&quot;Face&quot;</span>,</span><br><span class="line">           emojis: [<span class="string">&quot;ğŸ˜€&quot;</span>,<span class="string">&quot;â˜ºï¸&quot;</span>,<span class="string">&quot;ğŸ˜Š&quot;</span>,<span class="string">&quot;ğŸ˜‡&quot;</span>,<span class="string">&quot;ğŸ¥°&quot;</span>,<span class="string">&quot;ğŸ˜Œ&quot;</span>,<span class="string">&quot;ğŸ˜‰&quot;</span>,<span class="string">&quot;ğŸ™ƒ&quot;</span>,<span class="string">&quot;ğŸ˜‹&quot;</span>,<span class="string">&quot;ğŸ¤¨&quot;</span>,<span class="string">&quot;ğŸ˜&quot;</span>,<span class="string">&quot;ğŸ˜’&quot;</span>,<span class="string">&quot;ğŸ˜­&quot;</span>,<span class="string">&quot;ğŸ¥µ&quot;</span>,<span class="string">&quot;ğŸ˜³&quot;</span>,<span class="string">&quot;ğŸ¤”&quot;</span>,<span class="string">&quot;ğŸ¤—&quot;</span>,<span class="string">&quot;ğŸ˜·&quot;</span>],</span><br><span class="line">           numberOfPairsOfCards: <span class="number">7</span>,</span><br><span class="line">           color: <span class="string">&quot;green&quot;</span>),</span><br><span class="line">    <span class="type">Theme</span>(name: <span class="string">&quot;Hallowmans&quot;</span>,</span><br><span class="line">           emojis: [<span class="string">&quot;ğŸ‘»&quot;</span>,<span class="string">&quot;ğŸƒ&quot;</span>,<span class="string">&quot;ğŸ˜ˆ&quot;</span>,<span class="string">&quot;ğŸ¬&quot;</span>,<span class="string">&quot;ğŸ•·&quot;</span>],</span><br><span class="line">           numberOfPairsOfCards: <span class="number">8</span>,</span><br><span class="line">           color: <span class="string">&quot;orange&quot;</span>),</span><br><span class="line">    <span class="type">Theme</span>(name: <span class="string">&quot;Foot&quot;</span>,</span><br><span class="line">           emojis: [<span class="string">&quot;ğŸ‚&quot;</span>,<span class="string">&quot;ğŸ¡&quot;</span>,<span class="string">&quot;ğŸ±&quot;</span>,<span class="string">&quot;ğŸ›&quot;</span>,<span class="string">&quot;ğŸ&quot;</span>,<span class="string">&quot;ğŸŒ¯&quot;</span>,<span class="string">&quot;ğŸ•&quot;</span>,<span class="string">&quot;ğŸŸ&quot;</span>,<span class="string">&quot;ğŸ”&quot;</span>,<span class="string">&quot;ğŸŒ­&quot;</span>,<span class="string">&quot;ğŸ—&quot;</span>,<span class="string">&quot;ğŸ¥—&quot;</span>,<span class="string">&quot;ğŸ²&quot;</span>,<span class="string">&quot;ğŸ¤&quot;</span>,<span class="string">&quot;ğŸ¥®&quot;</span>,<span class="string">&quot;ğŸ¥§&quot;</span>,<span class="string">&quot;ğŸ©&quot;</span>,<span class="string">&quot;ğŸª&quot;</span>,<span class="string">&quot;ğŸµ&quot;</span>,<span class="string">&quot;ğŸ&quot;</span>,<span class="string">&quot;ğŸ¥&quot;</span>,<span class="string">&quot;ğŸ¥–&quot;</span>,<span class="string">&quot;ğŸ¥&quot;</span>,<span class="string">&quot;ğŸ«•&quot;</span>],</span><br><span class="line">           numberOfPairsOfCards: <span class="number">8</span>,</span><br><span class="line">           color: <span class="string">&quot;purple&quot;</span>)</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<p>å‚è€ƒä»£ç ï¼š<a href="https://github.com/sk-ruban/CS193p">https://github.com/sk-ruban/CS193p</a></p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>swift</tag>
        <tag>cs193p</tag>
      </tags>
  </entry>
  <entry>
    <title>CS193p_note5 Properties Layout @ViewBuilder</title>
    <url>/2022/02/28/cs193p-note5/</url>
    <content><![CDATA[<h2 id="Computed-Properties-è®¡ç®—å±æ€§"><a href="#Computed-Properties-è®¡ç®—å±æ€§" class="headerlink" title="Computed Properties è®¡ç®—å±æ€§"></a>Computed Properties è®¡ç®—å±æ€§</h2><p>ä¸æä¾›å­˜å‚¨å€¼ï¼Œæä¾›è¯»å–å™¨å’Œè®¾ç½®å™¨ï¼Œæ¥æ”¶å’Œè®¾ç½®å…¶ä»–å±æ€§</p>
<p>getç”¨æ¥æ¥æ”¶æ•°æ®ï¼Œå¹¶ä¸”è¿”å›å€¼ï¼Œsetç”¨æ¥è®¾ç½®å…¶ä»–å±æ€§æˆ–å€¼</p>
<h2 id="State"><a href="#State" class="headerlink" title="@State"></a>@State</h2><p>å˜åŒ–ä¼šåœ¨å¿…è¦æ—¶é‡æ–°ç»˜åˆ¶ï¼Œç›¸å½“äº@ObservedObject</p>
<span id="more"></span>

<h2 id="Layout"><a href="#Layout" class="headerlink" title="Layout"></a>Layout</h2><p>å±å¹•çš„ç©ºé—´å¦‚ä½•åˆ†é…ç»™æ‰€æœ‰è§†å›¾</p>
<ol>
<li>è§†å›¾å®¹å™¨ä¸ºå…¶ä¸­çš„è§†å›¾æä¾›ç©ºé—´</li>
<li>è§†å›¾æ ¹æ®æä¾›ç»™ä»–ä»¬çš„ç©ºé—´é€‰æ‹©è‡ªå·±çš„å°ºå¯¸ï¼Œä¸æ˜¯è¢«åˆ†é…</li>
<li>ä¸€æ—¦è§†å›¾è°ƒæ•´äº†è‡ªå·±çš„å¤§å°ï¼Œå°†è§†å›¾æ”¾ç½®åœ¨è§†å›¾å®¹å™¨é‡Œ</li>
<li>è§†å›¾å®¹å™¨é€‰æ‹©å¤§å°ï¼ŒåŸºäºé‡Œé¢çš„è§†å›¾</li>
</ol>
<h3 id="HStack-amp-VStack"><a href="#HStack-amp-VStack" class="headerlink" title="HStack &amp; VStack"></a>HStack &amp; VStack</h3><p>æœ€ä¸çµæ´»çš„è§†å›¾</p>
<p>ä¾‹å¦‚ï¼ŒImageå’ŒTextæœ‰å›ºå®šå¤§å°ï¼ŒImageçš„è‡ªç„¶å¤§å°ï¼ŒTextå°†å­—ç¬¦ä¸²æ”¾è¿›å»ï¼Œä¸çµæ´»ï¼›RoundedRectangleéå¸¸çµæ´»ï¼Œå¦‚æœä½ ç»™ä»–ç©ºé—´ï¼Œä»–ä¼šå æ®å…¨éƒ¨ç©ºé—´ï¼Œå¡«æ»¡ã€‚</p>
<p>ä»æœ€ä¸çµæ´»çš„è§†å›¾å…ˆåˆ†é…ï¼Œtextå¦‚æœç©ºé—´ä¸å¤Ÿä¼šè‡ªåŠ¨çœç•¥ï¼Œå¦‚æœstacké‡Œé¢çš„è§†å›¾éå¸¸çµæ´»ï¼Œé‚£ä¹ˆæœ¬èº«å°±ä¼šå˜çµæ´»</p>
<ul>
<li><p><code>Spacer(miniLength: CGFloat)</code>éå¸¸çµæ´»ï¼Œéœ€è¦å°½å¯èƒ½å¤šçš„ç©ºé—´</p>
</li>
<li><p><code>Divide()</code> ç”»ä¸€æ¡çº¿åˆ†å‰²è§†å›¾</p>
</li>
<li><p><code>.layoutPriority()</code> å…ˆè·å¾—è§†å›¾çš„åˆ†é…ï¼Œé»˜è®¤æ˜¯0</p>
</li>
</ul>
<p>Vstackç”Ÿæˆä¸€åˆ—è§†å›¾ï¼Œé»˜è®¤å±…ä¸­     </p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">VStack</span>(alignment: .leading) &#123; <span class="operator">...</span> &#125; <span class="comment">//.leading .trailing</span></span><br><span class="line"><span class="type">VStack</span>(alignment: .firstTextBaseline) &#123;&#125; <span class="comment">//æ–‡æœ¬åŸºçº¿</span></span><br><span class="line"><span class="comment">//å®šä¹‰è‡ªå·±çš„æ’åˆ—æ–¹å¼</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Hstack &#123;</span><br><span class="line">	ForEach(viewModel.cards)&#123; card in</span><br><span class="line">		CardView(card: card).aspectRatio(2/3, contentMode: .fit)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">.foregroundColor(Color.orange)</span><br><span class="line">.padding(10)</span><br></pre></td></tr></table></figure>



<h3 id="LazyHStack-amp-LazyVStack"><a href="#LazyHStack-amp-LazyVStack" class="headerlink" title="LazyHStack &amp; LazyVStack"></a>LazyHStack &amp; LazyVStack</h3><ul>
<li><p>ä¸æ„å»ºä¸åœ¨å±å¹•ä¸Šæ˜¾ç¤ºçš„è§†å›¾ï¼Œåªæ„å»ºScrollViewä¸­æ˜¾ç¤ºåœ¨å±å¹•ä¸Šçš„</p>
</li>
<li><p>ä¸çµæ´»ï¼Œå¦‚æœæœ‰çµæ´»è§†å›¾ï¼Œä¸èƒ½ç»™æ‰€æœ‰ç©ºé—´ï¼Œä¼šå°½å¯èƒ½çš„å°</p>
</li>
</ul>
<h3 id="ScrollView"><a href="#ScrollView" class="headerlink" title="ScrollView"></a>ScrollView</h3><p>æ¥æ”¶ä»»ä½•è§†å›¾åœ¨å…¶ä¸­æ»šåŠ¨</p>
<h3 id="LazyHGrid-amp-LazyVGrid"><a href="#LazyHGrid-amp-LazyVGrid" class="headerlink" title="LazyHGrid &amp; LazyVGrid"></a>LazyHGrid &amp; LazyVGrid</h3><p>æ§åˆ¶å¤šå°‘åˆ—æˆ–è€…å¤šå°‘è¡Œ</p>
<h3 id="ZStack"><a href="#ZStack" class="headerlink" title="ZStack"></a>ZStack</h3><p>è°ƒæ•´è‡ªå·±çš„å¤§å°åˆé€‚å­é¡¹</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Text</span>(<span class="string">&quot;hello&quot;</span>).background(<span class="type">Rectangle</span>().foregroundColor(.red))</span><br><span class="line"><span class="comment">//èƒŒæ™¯å¤§å°å–å†³äºæ–‡å­—ï¼Œä¸æ˜¯çµæ´»çš„å°ºå¯¸</span></span><br><span class="line"><span class="type">Circle</span>().overlay(<span class="type">Text</span>(<span class="string">&quot;hello&quot;</span>), alignment: .center)</span><br><span class="line"><span class="comment">//æ–‡å­—ä¸é‡è¦ï¼Œå¾ˆçµæ´»</span></span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Hstack</span>&#123;</span><br><span class="line">    <span class="type">ForEach</span>(viewmodel.cards) &#123; card <span class="keyword">in</span></span><br><span class="line">    	<span class="type">CardView</span>(card: card).aspectRatio(<span class="number">2</span><span class="operator">/</span><span class="number">3</span>, contentMode: .fit)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">.foregroundColor(<span class="type">Color</span>.orange)</span><br><span class="line">.padding(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<ol>
<li>é¦–å…ˆæä¾›paddingçš„ç©ºé—´ï¼Œå®¹å™¨æœ€å¤–å±‚çš„ç©ºé—´ï¼Œå°†ç©ºé—´-10åæä¾›ç»™foregroundColor</li>
<li>foregroundColoræä¾›ç›¸åŒçš„ç©ºé—´ç»™Hstack</li>
<li>Hstackå°†ç©ºé—´å¹³å‡åˆ†ç»™aspectRatio</li>
<li>æä¾›ç©ºé—´ç»™CardView</li>
</ol>
<h3 id="GeometryReader"><a href="#GeometryReader" class="headerlink" title="GeometryReader"></a>GeometryReader</h3><p>æœ¬èº«æ€»æ˜¯é€‚åº”æä¾›çš„ç©ºé—´</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">GeometryReader</span>&#123; geometry <span class="keyword">in</span> </span><br><span class="line">		<span class="operator">...</span></span><br><span class="line">&#125;<span class="comment">//æ”¾åœ¨è§†å›¾é‡Œ è®¡ç®—è§†å›¾å¤§å°</span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">GrometryProxy</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> size: <span class="type">CGSize</span> <span class="comment">//æä¾›è§†å›¾å¤§å°</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">frame</span>(<span class="params">in</span>: <span class="type">CoordinateSpace</span>)</span> -&gt; <span class="type">CGRect</span></span><br><span class="line">    <span class="keyword">var</span> safeAreaInsets: <span class="type">EdgeInsets</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="type">ZStack</span> &#123;&#125;.edgesIgnoringSafeArea([.top]) <span class="comment">//ç”»å…¥å®‰å…¨åŒºåŸŸ</span></span><br></pre></td></tr></table></figure>

<h2 id="ViewBuilder"><a href="#ViewBuilder" class="headerlink" title="@ViewBuilder"></a>@ViewBuilder</h2><p>å°†å‡½æ•°è¿”å›æˆå¾ˆå¯¹ä¸ªè§†å›¾ç»„æˆçš„ä¸€ä¸ªè§†å›¾ï¼Œåˆ›å»ºçš„è§†å›¾è¢«ç§°ä¸ºTupleView</p>
<p>ä»»æ„<code>func</code>æˆ–<code>åªè¯»çš„è®¡ç®—å±æ€§</code>éƒ½å¯ä»¥æ ‡è¯†ä¸º<code>@ViewBuilder</code>ï¼Œä¸€æ—¦æ ‡è¯†ï¼Œå®ƒé‡Œé¢çš„å†…å®¹å°†ä¼šè¢«è§£æä¸º<code>a list of Views</code></p>
<h2 id="é›¶æ•£çš„ä¸œè¥¿"><a href="#é›¶æ•£çš„ä¸œè¥¿" class="headerlink" title="é›¶æ•£çš„ä¸œè¥¿"></a>é›¶æ•£çš„ä¸œè¥¿</h2><p>å‡½æ•°å¼ç¼–ç¨‹</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> faceUpCardIndices <span class="operator">=</span> cards.indices.filter(&#123; cards[<span class="variable">$0</span>].isFaceUp &#125;)</span><br><span class="line"><span class="comment">//cards.indicesæ˜¯0..&lt;cards.count filterè¿”å›ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„æ•°ç»„</span></span><br><span class="line"><span class="keyword">var</span> faceUpCardIndices <span class="operator">=</span> [<span class="type">Int</span>]()</span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> cards.indices &#123;</span><br><span class="line">		<span class="keyword">if</span> cards[index].isFaceUp &#123;</span><br><span class="line">		faceUpCardIndices.append(index)</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>swift</tag>
        <tag>cs193p</tag>
      </tags>
  </entry>
  <entry>
    <title>CS193p_note6 Protocols Shapes</title>
    <url>/2022/03/05/cs193p-note6/</url>
    <content><![CDATA[<h2 id="Protocol"><a href="#Protocol" class="headerlink" title="Protocol"></a>Protocol</h2><p>åè®®æ˜¯ä¸€ä¸ªç²¾ç®€çš„<code>class</code>æˆ–<code>struct</code></p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Moveable</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">func</span> <span class="title">move</span>(<span class="params">by</span>: <span class="type">Int</span>)</span></span><br><span class="line">    <span class="keyword">var</span> hasMoved: <span class="type">Bool</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">    <span class="keyword">var</span> distanceFromStart: <span class="type">Int</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è‹¥åè®®è¦æ±‚ä¸€ä¸ªå±æ€§ä¸ºå¯è¯»å’Œå¯å†™çš„ï¼Œé‚£ä¹ˆè¯¥å±æ€§è¦æ±‚ä¸èƒ½ç”¨å¸¸é‡å­˜å‚¨å±æ€§æˆ–åªè¯»è®¡ç®—å±æ€§æ¥æ»¡è¶³ã€‚è‹¥åè®®åªè¦æ±‚å±æ€§ä¸ºå¯è¯»çš„ï¼Œé‚£ä¹ˆä»»ä½•ç§ç±»çš„å±æ€§éƒ½èƒ½æ»¡è¶³è¿™ä¸ªè¦æ±‚ï¼Œè€Œä¸”å¦‚æœä½ çš„ä»£ç éœ€è¦çš„è¯ï¼Œè¯¥å±æ€§ä¹Ÿå¯ä»¥æ˜¯å¯å†™çš„ã€‚</p>
<span id="more"></span>

<p>funcå’Œvaræ²¡æœ‰ä»»ä½•å®ç°</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">ProtableThing</span>: <span class="title">Moveable</span> </span>&#123;</span><br><span class="line">	<span class="comment">//å¿…é¡»æ‰§è¡Œmove(by: Int),hasMoved,distanceFromStart</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Vehicle</span>: <span class="title">Moveable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> passengerCount: <span class="type">Int</span> &#123; <span class="keyword">get</span> <span class="keyword">set</span>&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Car</span>: <span class="title">Vehiche</span>, <span class="title">Leasable</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">travelAround</span>(<span class="params">using</span> <span class="params">moveable</span>: <span class="type">Moveable</span>)</span></span><br><span class="line"><span class="keyword">let</span> foo <span class="operator">=</span> [<span class="type">Moveable</span>]</span><br></pre></td></tr></table></figure>

<p>è®©donâ€™t careå˜å¾—æœ‰ä¸€ç‚¹åœ¨ä¹ <code>struct MemoryGame&lt;CardContent&gt; where CardContent: Equatable</code></p>
<p>å°†extensionæ‰©å±•ä¸ºä»…ä½¿ç”¨æŸäº›äº‹æƒ…ï¼Œä¹Ÿå¯ä»¥é™åˆ¶ä¸ªåˆ«åŠŸèƒ½</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">init</span>(<span class="params">data</span>: <span class="type">Data</span>)</span> <span class="keyword">where</span> <span class="type">Date</span>: <span class="type">Collection</span>, <span class="type">Data</span>.<span class="type">Element</span>: <span class="type">Identifiable</span></span><br></pre></td></tr></table></figure>

<p>åªä¸ºæ¥æ”¶åˆ°ç‰¹å®šç±»å‹æ•°æ®è¿›è¡Œåˆå§‹åŒ–</p>
<p>&#x3D;&#x3D;åè®®å¯ä»¥é€šè¿‡åˆ›å»ºextensionæ¥å®æ–½ï¼Œå¯ä»¥åœ¨æ‰©å±•ä¸­æ·»åŠ é»˜è®¤å®æ–½&#x3D;&#x3D;</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">filter</span>(<span class="keyword">_</span> <span class="params">isInclude</span>: (<span class="type">Element</span>) -&gt; <span class="type">Bool</span>)</span> -&gt; <span class="type">Array</span>&lt;<span class="type">Element</span>&gt;</span><br></pre></td></tr></table></figure>

<p>é€‚ç”¨äºæ•°ç»„ã€å­—ç¬¦ä¸²ã€èŒƒå›´ç­‰ï¼Œè¢«æ·»åŠ åˆ°åŸºç¡€åº“ä¸­ï¼Œä½œä¸ºSequenceåè®®çš„æ‰©å±•</p>
<h3 id="Identifiable"><a href="#Identifiable" class="headerlink" title="Identifiable"></a>Identifiable</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Identifiable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">associatedtype</span> <span class="type">ID</span>: <span class="type">Hashable</span> <span class="comment">//å…³è”ç±»å‹</span></span><br><span class="line">    <span class="keyword">var</span> id: <span class="type">ID</span> &#123; <span class="keyword">get</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Hashable"><a href="#Hashable" class="headerlink" title="Hashable"></a>Hashable</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Hashable</span>: <span class="title">Equatable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">hash</span>(<span class="params">into</span> <span class="params">hasher</span>: <span class="keyword">inout</span> <span class="type">Hasher</span>)</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Equatable"><a href="#Equatable" class="headerlink" title="Equatable"></a>Equatable</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">Equatable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="function"><span class="keyword">func</span> <span class="title">==</span>(<span class="params">lhs</span>: <span class="keyword">Self</span>, <span class="params">rhs</span>: <span class="keyword">Self</span>)</span> -&gt; <span class="type">Bool</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è‡ªå¼•ç”¨åè®®ä¸èƒ½ä½œä¸ºæ™®é€šç±»å‹ä½¿ç”¨</p>
<h2 id="Shape"><a href="#Shape" class="headerlink" title="Shape"></a>Shape</h2><p>Shape is a <code>protocol</code> that inherits from View</p>
<p>RoundedRectangle,Circle,Capsule</p>
<p> é»˜è®¤è¢«å¡«æ»¡é¢œè‰²ï¼Œå¯ä»¥é€šè¿‡<code>.stock()</code>å’Œ<code>.fill()</code>æ”¹å˜</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fill</span>&lt;<span class="type">S</span>&gt;(<span class="keyword">_</span> <span class="params">whatToFillWith</span>: <span class="type">S</span>)</span> -&gt; <span class="keyword">some</span> <span class="type">View</span> <span class="keyword">where</span> <span class="type">S</span>: <span class="type">ShapeStyle</span></span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºè‡ªå·±çš„Shape</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">path</span>(<span class="params">in</span> <span class="params">rect</span>: <span class="type">CGRect</span>)</span> -&gt; <span class="type">Path</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a <span class="type">Path</span> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>èƒ½æ·»åŠ lineã€arcã€berzier curve</p>
<p>ç»˜å›¾åæ ‡ç³»ï¼Œéç¬›å¡å°”åæ ‡ç³»ï¼Œé›¶åæ ‡åœ¨å·¦ä¸Šè§’ï¼Œé¡ºé€†æ—¶é’ˆä¼šç›¸å</p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>swift</tag>
        <tag>cs193p</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¿¡æ¯æœé›†</title>
    <url>/2022/03/08/%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86/</url>
    <content><![CDATA[<h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>ä¿¡æ¯æ”¶é›†çš„æ–¹æ³•æœ‰å¾ˆå¤šï¼Œä¾‹å¦‚ä¸ä¸æ”»å‡»ç›®æ ‡ç›´æ¥æ¥è§¦ï¼Œä»å…¬å¼€ä¿¡æ¯å…¥æ‰‹äº†è§£æ”»å‡»ï¼Œç§°ä¸ºè¢«åŠ¨ä¿¡æ¯æ”¶é›†ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç½‘ç»œæ‰«æç­‰æ‰‹æ®µä¸»åŠ¨ä¸æ”»å‡»å¯¹è±¡å‘ç”Ÿæ¥è§¦ï¼Œç§°ä¸»åŠ¨ä¿¡æ¯æ”¶é›†ã€‚</p>
<p>ä¿¡æ¯æ”¶é›†å†…å®¹ï¼ŒæŠ€æœ¯ç›¸å…³ä¿¡æ¯ï¼šIPåœ°å€ã€å­åŸŸåã€æ•°æ®åº“çš„ç±»å‹ã€å¼€æ”¾çš„ç«¯å£ï¼ŒéæŠ€æœ¯ä¿¡æ¯ï¼šå…¬å¸ä¿¡æ¯ã€ä¸ªäººä¿¡æ¯ã€ä¹ æƒ¯ã€å‘è¡¨çš„ä¸œè¥¿</p>
<span id="more"></span>

<h3 id="ç›®æ ‡åŸºæœ¬ä¿¡æ¯"><a href="#ç›®æ ‡åŸºæœ¬ä¿¡æ¯" class="headerlink" title="ç›®æ ‡åŸºæœ¬ä¿¡æ¯"></a>ç›®æ ‡åŸºæœ¬ä¿¡æ¯</h3><p>ç›®æ ‡åŸºæœ¬ä¿¡æ¯æŒ‡ä¼ä¸šæ¦‚å†µã€ä¼ä¸šç†å¿µã€è§„æ¨¡ã€äº§å“ã€å·¥å•†æ³¨å†Œç­‰ä¿¡æ¯ã€‚é€šè¿‡å¯¹ç›®æ ‡åŸºæœ¬ä¿¡æ¯çš„æ”¶é›†ï¼Œæ”»å‡»è€…å¯ä»¥å¯¹ç›®æ ‡å½¢æˆåˆæ­¥äº†è§£ï¼Œå®šä½å…¶æ ¸å¿ƒä»·å€¼èµ„äº§</p>
<p>å…¬å¸çš„å®˜ç½‘ä¼šä»‹ç»å…¬å¸çš„ç»„ç»‡ç»“æ„ã€æ ¸å¿ƒæˆå‘˜ã€åœ°ç†ä½ç½®ç­‰ä¿¡æ¯ï¼Œâ€œå…³äºâ€ã€â€œäº†è§£â€ã€ICPå¤‡æ¡ˆè¯ä¹¦ç­‰ï¼Œè·å–äº†å…¬å¸åœ°å€å¯ä»¥å°è¯•è¿æ¥æ— è®¤è¯æˆ–é‡‡ç”¨WEPåŠ å¯†çš„wifiçƒ­ç‚¹ï¼Œå‡†å¤‡å‡wifiè®©å‘˜å·¥åŠ å…¥ç­‰ã€‚è·å–æ³•äººä»£è¡¨ä¿¡æ¯ï¼ŒæŸ¥è¯¢åŒä¸€äººåçš„å¤šä¸ªå…¬å¸ï¼Œè¿›è¡Œçªç ´ï¼Œå¯ä»¥ç”¨æ¥é’“é±¼</p>
<h3 id="ç›®æ ‡ç»„ç»‡æ¶æ„"><a href="#ç›®æ ‡ç»„ç»‡æ¶æ„" class="headerlink" title="ç›®æ ‡ç»„ç»‡æ¶æ„"></a>ç›®æ ‡ç»„ç»‡æ¶æ„</h3><p>ç›®æ ‡ç»„ç»‡æ¶æ„æ˜¯è¿›è¡Œä¼ä¸šæµç¨‹è¿è½¬ã€éƒ¨é—¨è®¾ç½®åŠèŒèƒ½è§„åˆ’ç­‰æœ€åŸºæœ¬çš„ç»“æ„ä¾æ®ï¼Œå¯¹å­å…¬å¸ã€æ¯å…¬å¸ç­‰è¿›è¡Œä¿¡æ¯æ”¶é›†ï¼Œå¯ä»¥æ‰©å¤§æ”»å‡»é¢ï¼Œå¢åŠ æˆåŠŸç‡</p>
<h3 id="ç›®æ ‡å…¶ä»–å…¬å¼€ä¿¡æ¯"><a href="#ç›®æ ‡å…¶ä»–å…¬å¼€ä¿¡æ¯" class="headerlink" title="ç›®æ ‡å…¶ä»–å…¬å¼€ä¿¡æ¯"></a>ç›®æ ‡å…¶ä»–å…¬å¼€ä¿¡æ¯</h3><p>åŒ…æ‹¬æ–°é—»ã€æ‹›æŠ•æ ‡ä¿¡æ¯</p>
<h3 id="ç›®æ ‡åŸŸåä¿¡æ¯"><a href="#ç›®æ ‡åŸŸåä¿¡æ¯" class="headerlink" title="ç›®æ ‡åŸŸåä¿¡æ¯"></a>ç›®æ ‡åŸŸåä¿¡æ¯</h3><p>ç›®æ ‡åŸŸåä¿¡æ¯æ”¶é›†åŒ…æ‹¬å¯¹ç›®æ ‡åŸŸåçš„whoisä¿¡æ¯ã€åŸŸåå†å²ä¿¡æ¯æ”¶é›†ã€æ³¨å†Œäºº&#x2F;æ³¨å†Œé‚®ç®±&#x2F;æ³¨å†Œç”µè¯åæŸ¥ç­‰ã€‚æŠ€æœ¯æ‰‹æ®µä¿¡æ¯ç­‰ç¬¬ä¸€ä¸ªæ­¥éª¤ã€‚</p>
<p>é€šè¿‡whoisåæŸ¥å¯ä»¥é€šè¿‡é‚®ç®±æŸ¥æ‰¾åˆ°åŒä¸€ä¸ªé‚®ç®±å¤‡æ¡ˆçš„å¤šä¸ªåŸŸå</p>
<h3 id="ç›®æ ‡å­åŸŸå"><a href="#ç›®æ ‡å­åŸŸå" class="headerlink" title="ç›®æ ‡å­åŸŸå"></a>ç›®æ ‡å­åŸŸå</h3><p>ç›®æ ‡å­åŸŸåæ”¶é›†åŒ…æ‹¬å¯¹ç›®æ ‡çš„äºŒçº§åŸŸåã€ä¸‰çº§åŸŸåã€å››çº§åŸŸåç­‰è¿›è¡Œæ”¶é›†ã€‚å‘ç°éšè—çš„ã€è¢«é—å¿˜çš„å­åŸŸåä¸Šçš„åº”ç”¨ç¨‹åºå¯èƒ½æ„å‘³ç€å‘ç°å…³é”®æ¼æ´ã€‚å­åŸŸåæ”¶é›†æ·±åº¦å’Œå¹¿åº¦å†³å®šäº†è¿›è¡Œæ”»å‡»æ—¶çš„èŒƒå›´ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šä¹Ÿå†³å®šæ˜¯å¦å¯ä»¥æˆåŠŸçªç ´ç›®æ ‡è¾¹ç•Œç³»ç»Ÿã€‚</p>
<p>å¸¸è§çš„å­åŸŸåæ”¶é›†æ‰‹æ®µï¼š</p>
<ul>
<li>æœç´¢å¼•æ“æ¥å£æŸ¥è¯¢ï¼Œè¡¨è¾¾å¼ï¼š site:example.com</li>
<li>ä¸€äº›ç½‘ç«™ å¦‚dnsdbæä¾›æŸ¥è¯¢å­åŸŸåçš„æœåŠ¡</li>
<li>Sslè¯ä¹¦çš„Subject Alternative Nameå­—æ®µæä¾›å¯¹åº”çš„å­åŸŸå å¦‚ <a href="http://censys.io.certificates/">http://censys.io.certificates</a></li>
<li>å­åŸŸåæš´åŠ›ç ´è§£ï¼Œä½¿ç”¨æš´åŠ›ç ´è§£å·¥å…·éå†å„ç§å­åŸŸå</li>
</ul>
<h3 id="ç›®æ ‡IP"><a href="#ç›®æ ‡IP" class="headerlink" title="ç›®æ ‡IP"></a>ç›®æ ‡IP</h3><p>ç›®æ ‡IPå³æµ‹è¯•ç›®æ ‡å¯¹å¤–å¼€æ”¾çš„åº”ç”¨äºå¯¹å¤–æœåŠ¡çš„IPåœ°å€ã€‚å½“å­åŸŸåæ— æ³•çªç ´ç›®æ ‡æ—¶ï¼Œé€šè¿‡å¯¹ipåŠå…¶å¼€æ”¾ç«¯å£å’ŒæœåŠ¡è¿›è¡Œæ”»å‡»ï¼Œç”šè‡³æœ‰äº›ä¸åœ¨ç®¡ç†åŠä¿æŠ¤èŒƒå›´å†…çš„åœ°å€ã€‚</p>
<h3 id="é‚®ä»¶ä¿¡æ¯æ”¶é›†"><a href="#é‚®ä»¶ä¿¡æ¯æ”¶é›†" class="headerlink" title="é‚®ä»¶ä¿¡æ¯æ”¶é›†"></a>é‚®ä»¶ä¿¡æ¯æ”¶é›†</h3><p>åˆ©ç”¨é‚®ä»¶ç³»ç»Ÿå¯¹ç›®æ ‡å£ä»¤æš´åŠ›ç ´è§£æˆ–é’“é±¼</p>
<h3 id="èŠå¤©ç¾¤ç»„"><a href="#èŠå¤©ç¾¤ç»„" class="headerlink" title="èŠå¤©ç¾¤ç»„"></a>èŠå¤©ç¾¤ç»„</h3><p>ç¾¤æ–‡ä»¶ç­‰å…³é”®ä¿¡æ¯ æœç´¢å…¬å¸å…³é”®å­—</p>
<h3 id="å†å²æ¼æ´"><a href="#å†å²æ¼æ´" class="headerlink" title="å†å²æ¼æ´"></a>å†å²æ¼æ´</h3><p>ä»¥å¾€åœ¨äº’è”ç½‘å…¬å¼€çš„ç›®æ ‡çš„å„ç³»ç»Ÿæ¼æ´ä¿¡æ¯ã€‚å¯æ”¶é›†åŸŸåä¿¡æ¯ã€IPä¿¡æ¯ã€ç³»ç»Ÿç»“æ„ç­‰</p>
<p>é€šè¿‡æœç´¢å¼•æ“æ”¶é›†</p>
<h3 id="ç½‘ç»œæ‰«æ"><a href="#ç½‘ç»œæ‰«æ" class="headerlink" title="ç½‘ç»œæ‰«æ"></a>ç½‘ç»œæ‰«æ</h3><p>![image-20220311182005093](&#x2F;Users&#x2F;jiangwenrong&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20220311182005093.png)</p>
<ul>
<li><p>ä¸»æœºå‘ç°</p>
<p>  ![image-20220311182552226](&#x2F;Users&#x2F;jiangwenrong&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20220311182552226.png)</p>
</li>
<li><p>ä¸»æœºè¯†åˆ«</p>
</li>
<li><p>ç«¯å£æ‰«æ</p>
</li>
<li><p>æœåŠ¡è¯†åˆ«</p>
</li>
</ul>
]]></content>
      <categories>
        <category>ç½‘ç»œæ”»å‡»ä¸é˜²æŠ¤</category>
      </categories>
      <tags>
        <tag>ä¿¡æ¯æœé›†</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2021/12/30/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>
<span id="more"></span>
<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>CS193p_assignment3</title>
    <url>/2022/03/20/cs193-a3/</url>
    <content><![CDATA[<h3 id="Task-1"><a href="#Task-1" class="headerlink" title="Task 1"></a>Task 1</h3><blockquote>
<p>å®æ–½ä¸€ä¸ªå•äººæ¸¸æˆSet</p>
</blockquote>
<h3 id="Task-2"><a href="#Task-2" class="headerlink" title="Task 2"></a>Task 2</h3><blockquote>
<p>æ‰€æœ‰å¡ç‰‡å¯è§ï¼Œå¡ç‰‡å°½å¯èƒ½çš„å¤§ã€‚ä¹Ÿå¯ä»¥å¢åŠ ä¸€ä¸ªæœ€å°å°ºå¯¸ï¼Œç„¶åæ¢å¤æ»šåŠ¨ã€‚æ‰€æœ‰çš„å¡ç‰‡éƒ½å¿…é¡»å¯è¯†åˆ«</p>
</blockquote>
<span id="more"></span>

<h3 id="Task-3"><a href="#Task-3" class="headerlink" title="Task 3"></a>Task 3</h3><blockquote>
<p>æœ‰ç›¸åŒçš„é•¿å®½æ¯”</p>
</blockquote>
<h3 id="Task-4"><a href="#Task-4" class="headerlink" title="Task 4"></a>Task 4</h3><blockquote>
<p>ç¬¦å·çš„å¤§å°æ ¹æ®å¡ç‰‡å¤§å°å†³å®š</p>
</blockquote>
<h3 id="Task-5"><a href="#Task-5" class="headerlink" title="Task 5"></a>Task 5</h3><blockquote>
<p>é€‰æ‹©ä¸‰å¼ ç‰ŒåŒ¹é…ï¼Œèƒ½å¤Ÿçœ‹åˆ°å“ªäº›ç‰Œå·²ç»è¢«é€‰ä¸­</p>
</blockquote>
<h3 id="Task-6"><a href="#Task-6" class="headerlink" title="Task 6"></a>Task 6</h3><blockquote>
<p>åªè¦æœ‰ä¸‰å¼ ç‰Œè¢«é€‰ä¸­ï¼Œè¦æ˜¾ç¤ºæ˜¯å¦åŒ¹é…ï¼Œä¸åŒ¹é…çš„ä¸‰ä¸ªå’Œåªé€‰æ‹©1æˆ–2å¼ ç‰Œæ—¶çœ‹èµ·æ¥ä¸ä¸€æ ·</p>
</blockquote>
<h3 id="Task-7"><a href="#Task-7" class="headerlink" title="Task 7"></a>Task 7</h3><blockquote>
<p>æ”¯æŒç‚¹å‡»å·²ç»é€‰ä¸­çš„ç‰Œå–æ¶ˆé€‰ä¸­ï¼Œåªé€‰æ‹©1æˆ–2æ—¶</p>
</blockquote>
<h3 id="Task-8"><a href="#Task-8" class="headerlink" title="Task 8"></a>Task 8</h3><blockquote>
<p>æ²¡è¯»æ˜ç™½å•Šï¼Œå›å¤´å†è¯´</p>
<p>å½“ä»»ä½•ä¸€å¼ ç‰Œè¢«è§¦æ‘¸åˆ°ï¼Œå¹¶ä¸”å·²ç»æœ‰3å¼ ç›¸åŒ¹é…çš„å¥—è£…ç‰Œè¢«é€‰ä¸­ã€‚<br>é‚£ä¹ˆâ€¦<br>a. æŒ‰ç…§ â€œå¥—ç‰Œ â€œçš„è§„åˆ™ï¼Œç”¨æ–°çš„ â€œå¥—ç‰Œ â€œæ›¿æ¢è¿™3å¼ åŒ¹é…çš„ç‰Œã€‚ç‰Œ<br>b. å¦‚æœè¿™å‰¯ç‰Œæ˜¯ç©ºçš„ï¼Œé‚£ä¹ˆå°±æŠŠé‚£äº›åŒ¹é…çš„ç‰Œæ‰€ç©ºå‡ºæ¥çš„ä½ç½®ï¼ˆå› ä¸ºæ²¡æœ‰æ›´å¤šçš„ç‰Œï¼Œæ‰€ä»¥ä¸èƒ½è¢«æ›¿æ¢ï¼‰ã€‚b. å¦‚æœè¿™å‰¯ç‰Œæ˜¯ç©ºçš„ï¼Œé‚£ä¹ˆè¿™å‰¯ç‰Œæ‰€è…¾å‡ºçš„ç©ºé—´ï¼ˆå› ä¸ºæ²¡æœ‰æ›´å¤šçš„ç‰Œï¼Œæ‰€ä»¥ä¸èƒ½è¢«æ›¿æ¢ï¼‰å°±åº”è¯¥è®©ç»™å‰©ä½™çš„ çš„ç‰Œï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™äº›ç‰Œå¾ˆå¯èƒ½ä¼šå˜å¤§ï¼‰ã€‚<br>c. å¦‚æœè¢«ç¢°çš„ç‰Œä¸å±äºåŒ¹é…çš„ç‰Œç»„ï¼Œåˆ™é€‰æ‹©è¯¥ç‰Œã€‚<br>d. å¦‚æœè¢«æ‘¸åˆ°çš„ç‰Œæ˜¯åŒ¹é…ç»„çš„ä¸€éƒ¨åˆ†ï¼Œé‚£ä¹ˆå°±ä¸é€‰æ‹©ä»»ä½•ç‰Œã€‚</p>
</blockquote>
<h3 id="Task-9"><a href="#Task-9" class="headerlink" title="Task 9"></a>Task 9</h3><blockquote>
<p>æœ‰ä¸‰å¼ ä¸åŒ¹é…çš„ç‰Œè¢«é€‰ä¸­ï¼Œå–æ¶ˆè¿™ä¸‰å¼ ç‰Œï¼Œé€‰ä¸­ç‚¹å‡»çš„ç‰Œ</p>
</blockquote>
<h3 id="Task-10"><a href="#Task-10" class="headerlink" title="Task 10"></a>Task 10</h3><blockquote>
<p>æœ‰â€œDeal 3 More Cardsâ€æŒ‰é’®</p>
<p>ä½ éœ€è¦æœ‰ä¸€ä¸ª â€œå†å‘3å¼ ç‰Œ â€œçš„æŒ‰é’®ï¼ˆæ ¹æ®Setçš„è§„åˆ™ï¼‰ã€‚<br>a. å½“å®ƒè¢«è§¦åŠ¨æ—¶ï¼Œå¦‚æœæ‰€é€‰çš„ç‰Œç»„æˆäº†ä¸€å¥—ç‰Œï¼Œåˆ™æ›¿æ¢æ‰€é€‰çš„ç‰Œã€‚<br>b. æˆ–è€…ï¼Œå¦‚æœæ‰€é€‰çš„ç‰Œä¸ç»„æˆä¸€å¥—ç‰Œï¼ˆæˆ–è€…æ‰€é€‰çš„ç‰Œå°‘äº3å¼ ï¼ŒåŒ…æ‹¬æ²¡æœ‰ï¼‰ï¼Œåˆ™å¢åŠ 3å¼ æ–°ç‰Œï¼ŒåŠ å…¥å±å¹•ä¸Šå·²ç»å‡ºç°çš„ç‰Œï¼ˆå¹¶ä¸”ä¸å½±å“é€‰æ‹©ï¼‰ã€‚<br>c. å¦‚æœç‰Œç»„æ˜¯ç©ºçš„ï¼Œåˆ™ç¦ç”¨æ­¤æŒ‰é’®ã€‚</p>
</blockquote>
<h3 id="Task-11"><a href="#Task-11" class="headerlink" title="Task 11"></a>Task 11</h3><blockquote>
<p>æœ‰ä¸€ä¸ªâ€œNew Gameâ€æŒ‰é’®ï¼Œå¼€å§‹æ–°æ¸¸æˆï¼Œå›åˆ°12ä¸ªéšæœºå¡</p>
</blockquote>
<h3 id="Task-12"><a href="#Task-12" class="headerlink" title="Task 12"></a>Task 12</h3><blockquote>
<p>ç”¨é•¿æ–¹å½¢ä»£æ›¿å¼¯æ›²</p>
</blockquote>
<h3 id="Task-13"><a href="#Task-13" class="headerlink" title="Task 13"></a>Task 13</h3><blockquote>
<p>è‡ªå·±ç¼–å†™Shapeç»“æ„åˆ¶ä½œâ€œdiamondâ€</p>
</blockquote>
<h3 id="Task-14"><a href="#Task-14" class="headerlink" title="Task 14"></a>Task 14</h3><blockquote>
<p>æ¡çº¹è¡¨ç¤ºä¸ºåŠé€æ˜ï¼Œå’Œçº¯è‰²åŒºåˆ†å¼€</p>
</blockquote>
<h3 id="Task-15-amp-16"><a href="#Task-15-amp-16" class="headerlink" title="Task 15&amp;16"></a>Task 15&amp;16</h3><blockquote>
<p>ä½¿ç”¨æšä¸¾ä½œä¸ºæ–¹æ¡ˆä¸­æœ‰æ„ä¹‰çš„éƒ¨åˆ†ï¼Œä½¿ç”¨é—­åŒ…(ä¸€ä¸ªä½œä¸ºå‚æ•°çš„å‡½æ•°)ï¼Œä¸‰ä¸ªä¸åŒé¢œè‰²</p>
</blockquote>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>swift</tag>
        <tag>cs193p</tag>
      </tags>
  </entry>
  <entry>
    <title>CS193_note 1-4</title>
    <url>/2022/02/20/cs193-note1-2/</url>
    <content><![CDATA[<h3 id="RoundedRectangle"><a href="#RoundedRectangle" class="headerlink" title="RoundedRectangle"></a>RoundedRectangle</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">20</span>)</span><br><span class="line">	.fill() <span class="comment">//å¡«æ»¡</span></span><br><span class="line">	.foregroundColor(.red) <span class="comment">//å‰æ™¯é¢œè‰²</span></span><br><span class="line">	.stroke(lineWidth: <span class="number">3</span>) <span class="comment">//è¾¹æ¡†å®½åº¦</span></span><br><span class="line">	.strokeBorder</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<h3 id="ZStack"><a href="#ZStack" class="headerlink" title="ZStack"></a>ZStack</h3><p>åœ¨zè½´å åŠ è§†å›¾ï¼Œè¿”å›ä¸€æ•´ä¸ªè§†å›¾å†…å®¹</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">ZStack</span>(alignment: .top)&#123;</span><br><span class="line">    <span class="comment">//åœ¨é¡¶éƒ¨å¯¹é½</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="HStack"><a href="#HStack" class="headerlink" title="HStack"></a>HStack</h3><p>æ°´å¹³å †å </p>
<h3 id="LazyVGrid"><a href="#LazyVGrid" class="headerlink" title="LazyVGrid"></a>LazyVGrid</h3><p>ç½‘æ ¼ï¼ŒæŒ‡å®šåˆ—æ•°ï¼ŒæŠŠå°½å¯èƒ½å¤šçš„ä¸œè¥¿æ”¾åœ¨ä¸€è¡Œï¼Œå‚ç›´æ»‘åŠ¨ï¼Œæ­é…ScrollViewä½¿ç”¨</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">LazyVGrid</span>(columns: [<span class="type">GridItem</span>(.adaptive(minimum: <span class="number">75</span>))])</span><br></pre></td></tr></table></figure>

<h3 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a>MVVM</h3><p>åˆ†ç¦»äº†ç”¨æˆ·ç•Œé¢ä»£ç </p>
<h4 id="Model"><a href="#Model" class="headerlink" title="Model"></a>Model</h4><p>å®Œå…¨ç‹¬ç«‹äºUI data å’Œ logicï¼Œappå®é™…ä¸Šåšä»€ä¹ˆ</p>
<h4 id="View"><a href="#View" class="headerlink" title="View"></a>View</h4><p>åæ˜ modelå†…å®¹ å“åº”å¼</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ObservedObject</span></span><br><span class="line"><span class="meta">@Binding</span></span><br><span class="line">.onReceive</span><br><span class="line"><span class="meta">@EnvironmentObject</span></span><br><span class="line">.environmentObject()</span><br></pre></td></tr></table></figure>



<h4 id="ModelView"><a href="#ModelView" class="headerlink" title="ModelView"></a>ModelView</h4><p>ç»‘å®šviewå’Œmodelï¼Œè§£é‡Šå™¨ã€‚Viewé€šè¿‡ViewModelè·å–Modelçš„æ•°æ®ï¼Œä»æ¥ä¸å‚¨å­˜æ•°æ®ã€‚</p>
<p>ViewModelä¸æ–­è§‚å¯ŸModelä¸­çš„å˜åŒ–ï¼Œå‘å¸ƒå˜åŒ–ï¼Œè§†å›¾subscribingï¼ˆè®¢é˜…ï¼‰ï¼Œå‘å¸ƒçš„å†…å®¹ã€‚ä½¿ç”¨class</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ObservableObject</span></span><br><span class="line"><span class="meta">@Published</span></span><br><span class="line">objectWillChange.send()</span><br></pre></td></tr></table></figure>

<p>å¤„ç†ç”¨æˆ·æ„å›¾ï¼Œä¿®æ”¹Modelå†…å®¹</p>
<h3 id="Types"><a href="#Types" class="headerlink" title="Types"></a>Types</h3><h4 id="struct-amp-amp-class"><a href="#struct-amp-amp-class" class="headerlink" title="struct &amp;&amp; class"></a>struct &amp;&amp; class</h4><p>å‚¨å­˜å˜é‡å’Œè®¡ç®—å˜é‡ã€å‡½æ•°ã€åˆå§‹åŒ–å™¨</p>
<p>ViewModelä½¿ç”¨classï¼Œåœ¨æ‰€æœ‰è§†å›¾ä¸­å…±äº«</p>
<table>
<thead>
<tr>
<th align="center">struct</th>
<th align="center">class</th>
</tr>
</thead>
<tbody><tr>
<td align="center">å€¼ç±»å‹</td>
<td align="center">å¼•ç”¨ç±»å‹</td>
</tr>
<tr>
<td align="center">ä¼ é€’æˆ–åˆ†é…å˜é‡æ—¶å¤åˆ¶å†…å®¹</td>
<td align="center">ä¼ é€’æ—¶åªä¼ é€’æŒ‡å‘å®ƒçš„æŒ‡é’ˆ</td>
</tr>
<tr>
<td align="center">å†™æ—¶å¤åˆ¶ï¼Œç›´åˆ°ä¿®æ”¹æ‰ä¼šå¤åˆ¶å®Œæ•´å†…å®¹</td>
<td align="center">è‡ªåŠ¨å¼•ç”¨è®¡æ•°ï¼Œè·Ÿè¸ªæœ‰å¤šå°‘æŒ‡å‘æŸäº‹ç‰©çš„æŒ‡é’ˆï¼Œæ²¡äººæŒ‡å‘æ—¶ï¼Œä»å†…å­˜ä¸­åˆ é™¤</td>
</tr>
<tr>
<td align="center">å‡½æ•°å¼ç¼–ç¨‹</td>
<td align="center">é¢å¯¹å¯¹è±¡ç¼–ç¨‹</td>
</tr>
<tr>
<td align="center">æ²¡æœ‰ç»§æ‰¿</td>
<td align="center">å•ä¸€ç»§æ‰¿</td>
</tr>
<tr>
<td align="center">å…è´¹åˆå§‹åŒ–æ‰€æœ‰å˜é‡ï¼Œå¦‚æœæ²¡æœ‰ç¼–å†™initå‡½æ•°</td>
<td align="center">ä¸èƒ½åˆå§‹åŒ–å˜é‡</td>
</tr>
<tr>
<td align="center">æ˜ç¡®çš„å®šä¹‰ var let</td>
<td align="center">æ€»æ˜¯å¯å˜çš„</td>
</tr>
</tbody></table>
<h4 id="Generics"><a href="#Generics" class="headerlink" title="Generics"></a>Generics</h4><p>å¯¹ä¸çŸ¥é“ç±»å‹ä¸Šçš„æ•°æ®ï¼Œä¸åœ¨ä¹å®ƒæ˜¯ä»€ä¹ˆç±»å‹</p>
<p>ç±»å‹å‚æ•°</p>
<h4 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h4><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> operation: (<span class="type">Double</span>) -&gt; <span class="type">Double</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">square</span>(<span class="params">operand</span>: <span class="type">Double</span>)</span> -&gt; <span class="type">Double</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> operand <span class="operator">*</span> operand</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">operation <span class="operator">=</span> square</span><br><span class="line"><span class="keyword">let</span> result1 <span class="operator">=</span> operation(<span class="number">4</span>) <span class="comment">//16 	è°ƒç”¨æ—¶ä¸ä½¿ç”¨æ ‡ç­¾</span></span><br></pre></td></tr></table></figure>

<h3 id="ååº”"><a href="#ååº”" class="headerlink" title="ååº”"></a>ååº”</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@ObservableObject</span> <span class="comment">//å‘ä¸–ç•Œå‘å¸ƒæœ‰æ‰€æ”¹å˜</span></span><br><span class="line"><span class="comment">//å¾—åˆ°ä¸€ä¸ªçœ‹ä¸è§çš„var</span></span><br><span class="line"><span class="keyword">var</span> objectWillChange: <span class="type">ObservableObjectPublisher</span></span><br><span class="line">objectWillChange.send() <span class="comment">//å‘ä¸–ç•Œå‘é€æ”¹å˜</span></span><br><span class="line"><span class="meta">@Published</span> <span class="comment">//æ”¾åœ¨å˜é‡å‰æ— è®ºä½•æ—¶å‘ç”Ÿå˜åŒ–éƒ½å‘é€</span></span><br><span class="line"><span class="meta">@ObservedObject</span> <span class="comment">//æ”¾åœ¨å˜é‡å‰ï¼Œå‘ç”Ÿæ”¹å˜æ—¶é‡å»ºbody</span></span><br></pre></td></tr></table></figure>

<h3 id="enum"><a href="#enum" class="headerlink" title="enum"></a>enum</h3><p>æ•°æ®ç»“æ„ï¼Œç¦»æ•£çš„å€¼</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">FastFoodMenuItem</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> hamburger</span><br><span class="line">    <span class="keyword">case</span> fries</span><br><span class="line">    <span class="keyword">case</span> drink</span><br><span class="line">    <span class="keyword">case</span> cookie</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å€¼ä¼ é€’ï¼Œä¼šè¢«å¤åˆ¶</li>
</ul>
<p>æ¯ä¸ªçŠ¶æ€éƒ½å¯ä»¥æœ‰ä¸€äº›å…³è”æ•°æ®</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">FastFoodMenuItem</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> hamburger(numberOfPatties: <span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> fries(size: <span class="type">FryOrderSize</span>)</span><br><span class="line">    <span class="keyword">case</span> drink (<span class="type">String</span>, ounces: <span class="type">Int</span>) <span class="comment">//stringæ²¡æœ‰æ ‡ç­¾</span></span><br><span class="line">    <span class="keyword">case</span> cookie</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">FryOrderSize</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> large</span><br><span class="line">    <span class="keyword">case</span> small</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> menuItem: <span class="type">FastFoodMenuItem</span> <span class="operator">=</span> <span class="type">FastFoodMenuItem</span>.hamburger(patties: <span class="number">2</span>)</span><br><span class="line"><span class="keyword">var</span> otherItem: <span class="type">FastFoodMenuItem</span> <span class="operator">=</span> .cookie</span><br></pre></td></tr></table></figure>

<p>æ£€æŸ¥å€¼</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> menuItem: <span class="type">FastFoodMenuItem</span> <span class="operator">=</span> <span class="type">FastFoodMenuItem</span>.hamburger(patties: <span class="number">2</span>)</span><br><span class="line"><span class="keyword">switch</span> menuItem &#123;</span><br><span class="line">    <span class="keyword">case</span> .hamburger(<span class="keyword">let</span> pattyCount): <span class="built_in">print</span>(<span class="string">&quot;a burger with <span class="subst">\(pattyCOunt)</span> patties!&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> .fries: <span class="built_in">print</span>(<span class="string">&quot;fries&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> .drink: <span class="built_in">print</span>(<span class="string">&quot;drink&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> .cookie: <span class="built_in">print</span>(<span class="string">&quot;cookie&quot;</span>)</span><br><span class="line">    <span class="keyword">default</span>: <span class="built_in">print</span>(<span class="string">&quot;other&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>switchä¹Ÿé€‚ç”¨äºå…¶ä»–ç±»å‹</p>
<p>enumå…è®¸æœ‰æ–¹æ³•å’Œè®¡ç®—å˜é‡ï¼Œä¸èƒ½æœ‰å®é™…å­˜å‚¨çš„å˜é‡</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">FastFoodMenuItem</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    fun isIncludeInSpeciaOrder(number: <span class="type">Int</span>) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> <span class="keyword">self</span> &#123;</span><br><span class="line">            <span class="keyword">case</span> .hamburger(<span class="keyword">let</span> pattyCount): <span class="keyword">return</span> pattyCount <span class="operator">==</span> number</span><br><span class="line">            <span class="keyword">case</span> .fries, .cookie: <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">            <span class="keyword">case</span>.drink(<span class="keyword">_</span>, <span class="keyword">let</span> ounces): <span class="keyword">return</span> ounces <span class="operator">==</span> <span class="number">16</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éå†æ‰€æœ‰çŠ¶æ€ï¼Œè¿­ä»£</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">TeslaModel</span>: <span class="title">CaseIterable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">X</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">S</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">Three</span></span><br><span class="line">    <span class="keyword">case</span> <span class="type">Y</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> model <span class="keyword">in</span> <span class="type">TeslaModel</span>.allCase &#123;</span><br><span class="line">    reportSalesNumber(for: model)</span><br><span class="line">&#125;</span><br><span class="line">fun reportSalesNumber(<span class="keyword">for</span> model: <span class="type">TeslaModel</span>) &#123;</span><br><span class="line">    <span class="keyword">switch</span> model &#123; <span class="operator">...</span> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Optionals"><a href="#Optionals" class="headerlink" title="Optionals"></a>Optionals</h3><p>ä¸¤ç§æšä¸¾ï¼šå­˜åœ¨å’Œä¸å­˜åœ¨</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">Optional</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> none</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">some</span>(<span class="type">T</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> hello: <span class="type">String</span>?</span><br><span class="line"><span class="keyword">var</span> hello: <span class="type">String</span>? <span class="operator">=</span> <span class="string">&quot;hello&quot;</span></span><br><span class="line"><span class="keyword">var</span> hello: <span class="type">Striong</span>? <span class="operator">=</span> <span class="literal">nil</span>	<span class="keyword">var</span> hello: <span class="type">Optional</span>&lt;<span class="type">String</span>&gt; <span class="operator">=</span> .none</span><br></pre></td></tr></table></figure>

<p>å¼ºåˆ¶è§£åŒ… !  æˆ–è€…ä½¿ç”¨if let</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> safehello <span class="operator">=</span> hello &#123;</span><br><span class="line">	<span class="built_in">print</span>(safehello)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> y <span class="operator">=</span> x <span class="operator">??</span> <span class="string">&quot;foo&quot;</span> <span class="comment">//å¦‚æœæœªè®¾ç½®ä¸ºfoo</span></span><br><span class="line"><span class="keyword">let</span> y <span class="operator">=</span> x<span class="operator">?</span>.foo()<span class="operator">?</span>.bar<span class="operator">?</span>.z <span class="comment">//åªè¦æœ‰ä¸€ä¸ªæ˜¯nil å…¨æ˜¯nil</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>swift</tag>
        <tag>cs193p</tag>
      </tags>
  </entry>
  <entry>
    <title>cs193p_note7 ViewModifier Animation</title>
    <url>/2022/04/15/cs193p-note7/</url>
    <content><![CDATA[<h2 id="Animation"><a href="#Animation" class="headerlink" title="Animation"></a>Animation</h2><ul>
<li>ä¸ºShapeè®¾ç½®åŠ¨ç”»</li>
<li>ä½¿ç”¨ViewModifieråšåŠ¨ç”»</li>
</ul>
<p>åªæœ‰æ”¹å˜å¯ä»¥è¢«åŠ¨ç”»åŒ–ï¼Œæ”¹å˜ViewModifierçš„å‚æ•°ï¼ŒShapeçš„å‚æ•°ï¼ŒUIä¸­æ˜¯å¦å­˜åœ¨è§†å›¾</p>
<p>åŠ¨ç”»æ˜¾ç¤ºç»™ç”¨æˆ·å·²ç»å‘ç”Ÿçš„å˜åŒ–</p>
<span id="more"></span>

<p>ViewModifieræ˜¯ä¸»è¦çš„å˜æ›´ä»£ç†ï¼Œæ›´æ”¹å‚æ•°å¿…é¡»åœ¨Viewæ”¾å…¥UIä¹‹å</p>
<p>è§†å›¾åŠ å…¥æˆ–ç¦»å¼€ä¸€ä¸ªå·²ç»åœ¨ç”¨æˆ·ç•Œé¢çš„å®¹å™¨æ—¶ï¼Œæ‰ä¼šè¢«åŠ¨ç”»ã€‚å¦‚æœä¸€ä¸ªè§†å›¾å¸¦ç€å®¹å™¨ä¸€èµ·å‡ºç°åœ¨å±å¹•ä¸Šï¼Œå®¹å™¨ä¼šè¢«åŠ¨ç”»åŒ–ï¼Œè€Œä¸æ˜¯è§†å›¾</p>
<h3 id="å¦‚ä½•åˆ¶ä½œåŠ¨ç”»"><a href="#å¦‚ä½•åˆ¶ä½œåŠ¨ç”»" class="headerlink" title="å¦‚ä½•åˆ¶ä½œåŠ¨ç”»"></a>å¦‚ä½•åˆ¶ä½œåŠ¨ç”»</h3><ol>
<li><p>Implicitly éšå«çš„è‡ªåŠ¨çš„ï¼Œé€šè¿‡ä½¿ç”¨<code>.animation(Animation)</code> </p>
</li>
<li><p>Explicitly æƒ³è¦æ•´ä¸ªUIåè°ƒå˜åŒ–çš„åŠ¨ç”» <code>withAnimation(Animation) &#123;&#125;</code> </p>
</li>
<li><p>ä»UIä¸­åŒ…æ‹¬æˆ–æ’é™¤è§†å›¾ï¼Œåšç‹¬ç«‹è§†å›¾</p>
<p> æ‰€æœ‰çš„åªå‘ç”Ÿåœ¨è§†å›¾å·²ç»å­˜åœ¨äºUIä¸­æˆ–æˆ–å®¹å™¨åœ¨UIä¸­</p>
</li>
</ol>
<h3 id="Implicit-Animation"><a href="#Implicit-Animation" class="headerlink" title="Implicit Animation"></a>Implicit Animation</h3><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Text</span>(<span class="string">&quot; &quot;</span>)</span><br><span class="line">	.opacity(scary <span class="operator">?</span> <span class="number">1</span> : <span class="number">0</span>)</span><br><span class="line">	.rotationEffect(<span class="type">Angle</span>.degrees(upsideDown <span class="operator">?</span> <span class="number">180</span> : <span class="number">0</span>))</span><br><span class="line">	.animation(<span class="type">Animation</span>.easeInOut)</span><br></pre></td></tr></table></figure>

<p>è®©ä¸Šé¢çš„å˜åŒ–å˜æˆåŠ¨ç”»</p>
<ul>
<li>ä¸é€‚ç”¨äºä»»ä½•å®¹å™¨ï¼Œå®¹å™¨ä¼šä¼ æ’­åˆ°é‡Œé¢çš„è§†å›¾ä¸­</li>
<li>å…¶ä¸­çš„å‚æ•°æ˜¯ä¸€ä¸ªAnimationç»“æ„ï¼ŒdurationæŒç»­æ—¶é—´ï¼Œdelayè°ƒç”¨ä¸€ä¸ªå°å‡½æ•°ï¼Œrepeaté‡å¤ä¸€å®šæ¬¡æ•°æˆ–æ°¸ä¹…é‡å¤(repeatForever)ï¼ŒcurveåŠ¨ç”»æ›²çº¿</li>
</ul>
<h4 id="Animation-Curve"><a href="#Animation-Curve" class="headerlink" title="Animation Curve"></a>Animation Curve</h4><ul>
<li>linearçº¿æ€§çš„æ–¹å¼æ—‹è½¬æˆ–æ·¡å…¥æ·¡å‡º</li>
<li>easeInOut å¼€å§‹å’Œç»“æŸæ”¾æ…¢é€Ÿåº¦</li>
<li>spring ç»“æŸæ—¶éœ‡è¡ï¼Œæä¾›è‡ªç„¶çš„è½åœ°æ•ˆæœ</li>
</ul>
<h3 id="Explicit-Animation"><a href="#Explicit-Animation" class="headerlink" title="Explicit Animation"></a>Explicit Animation</h3><p>åˆ›å»ºä¸€ä¸ªåŠ¨ç”»äº‹åŠ¡(transaction)ï¼Œæ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ›´æ”¹ä¸€èµ·åˆ¶ä½œåŠ¨ç”»</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line">withAnimation(.linear(dutation: <span class="number">2</span>)) &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>æ˜¾å¼åŠ¨ç”»æ€»æ˜¯å›´ç»•ç€ViewModel Intent functionsï¼Œå¾ˆæœ‰å¯èƒ½æ”¹å˜æ¨¡å‹ã€‚</p>
<p>&#x3D;&#x3D;<strong>æ˜¾å¼åŠ¨ç”»ä¸ä¼šè¦†ç›–éšå¼åŠ¨ç”»</strong>&#x3D;&#x3D;</p>
<h3 id="transition"><a href="#transition" class="headerlink" title="transition"></a>transition</h3><p>è§†å›¾çš„æ¥å»ï¼Œä»…é€‚ç”¨äºå·²ç»å‡ºç°åœ¨å±å¹•ä¸Šçš„è§†å›¾</p>
<p>å¤§å¤šæ•°æƒ…å†µä½¿ç”¨é¢„å…ˆç½è£…(opacity, scaling, moving across the screen)ï¼Œæ˜¯åœ¨AnyTransitionç»“æ„ä¸Šçš„é™æ€å‡½æ•°å’Œå˜é‡</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> isFaceUp &#123;</span><br><span class="line">    <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">10</span>).stroke()</span><br><span class="line">    <span class="type">Text</span>(<span class="string">&quot;ğŸ‘»&quot;</span>).transition(<span class="type">AnyTransition</span>.scale)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="type">RoundedRectangle</span>(cornerRadius: <span class="number">10</span>).transition(<span class="type">AnyTransition</span>.identity)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="onAppear"><a href="#onAppear" class="headerlink" title=".onAppear"></a>.onAppear</h4><p>å½“è§†å›¾å‡ºç°åœ¨å±å¹•æ—¶æ‰§è¡Œä¸€ä¸ªé—­åŒ…ï¼Œåœ¨å®¹å™¨è§†å›¾ä¸Šä½¿ç”¨<code>.onAppear&#123;&#125;</code>ï¼Œå½“è§†å›¾å‡ºç°åœ¨å±å¹•æ—¶å¯ä»¥æ‰§è¡Œä¸€ç³»åˆ—ä»£ç </p>
<h2 id="ViewModifier"><a href="#ViewModifier" class="headerlink" title="ViewModifier"></a>ViewModifier</h2><p>ä¿®æ”¹è§†å›¾çš„å°åŠŸèƒ½ï¼Œä¾‹å¦‚<code>.aspectRatio(2/3)</code></p>
<p>å”¯ä¸€çš„å·¥ä½œå°±æ˜¯ä¿®æ”¹è§†å›¾</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">protocol</span> <span class="title">ViewModifier</span> </span>&#123;</span><br><span class="line">    <span class="keyword">typealias</span> <span class="type">Content</span><span class="comment">//æ­£åœ¨ä¿®æ”¹çš„è§†å›¾</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">body</span>(<span class="params">content</span>: <span class="type">Content</span>)</span> -&gt; someView &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">some</span> <span class="type">View</span> that almost certainly contains the <span class="type">View</span> content</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ç‰¹æ®Šçš„ViewModifierï¼Œæ˜¯GeometryEffectï¼Œåªä¿®æ”¹å‡ ä½•ï¼Œå¦‚ç¼©æ”¾ã€å¹³è¡Œã€æ—‹è½¬</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">Cardify</span>: <span class="title">ViewModifier</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> isFaceUp: <span class="type">Bool</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">body</span>(<span class="params">content</span>: <span class="type">Content</span>)</span> -&gt; <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="type">ZStack</span> &#123;</span><br><span class="line">            <span class="operator">...</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">Text</span>(<span class="string">&quot; &quot;</span>).modifier(<span class="type">Cardify</span>(isFaceUp: <span class="literal">true</span>))</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">View</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">cardify</span>(<span class="params">isFaceUp</span>: <span class="type">Bool</span>)</span> -&gt; <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>.modifier(<span class="type">Cardify</span>(isFaceUp: isFaceUp))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h2><h3 id="GeometryEffect"><a href="#GeometryEffect" class="headerlink" title="GeometryEffect"></a>GeometryEffect</h3><p>ä½¿äº‹ç‰©æ—‹è½¬ï¼Œç§»åŠ¨ç‰©ä½“ï¼Œè°ƒæ•´ç‰©ä½“å¤§å°ç­‰</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line">.rotationEffect(<span class="type">Angle</span>.degrees(card.isMatched <span class="operator">?</span> <span class="number">360</span> : <span class="number">0</span>))</span><br><span class="line">.animation(<span class="type">Animation</span>.easeInOut(duration: <span class="number">3</span>).repeatForever(autoreverses: <span class="literal">false</span>))<span class="comment">//ä¸ä¼šè‡ªåŠ¨åè½¬</span></span><br><span class="line">.animation(<span class="type">Animation</span>.linear(duration: <span class="number">1</span>).repeatForever(autoreverses: <span class="literal">false</span>), value: card.isMatched) <span class="comment">//iOS15.0æ¨èç”¨æ³•</span></span><br></pre></td></tr></table></figure>

<p>æ—‹è½¬åŒ¹é…æˆåŠŸçš„å†…å®¹ï¼Œï¼Œè¿™ä¹ˆåªä¼šæ—‹è½¬ç¬¬ä¸€ä¸ªå†…å®¹ï¼Œè€Œä¸”æ—‹è½¬æ—¶å­—ä½“å¤§å°æ”¹å˜ï¼Œå­—ä½“ä¸èƒ½è¿›è¡ŒåŠ¨ç”»ï¼Œæ—‹è½¬æ—¶æœ‰å¤šä¸ªåŠ¨ç”»ä¸€èµ·å‘ç”Ÿï¼Œè¦ä½¿ç”¨å›ºå®šå¤§å°å­—ä½“ã€‚</p>
<p>åˆ›å»ºåŠ¨ç”»æ—¶æ³¨æ„ä¸‰ä¸ªåŸåˆ™ï¼Œå¯ä»¥é€šè¿‡opacityä½¿å†…å®¹åœ¨å±å¹•ä¸Šéšè—ã€‚</p>
<p>animationå‚è€ƒï¼š<a href="https://juejin.cn/post/7067340603494924296">https://juejin.cn/post/7067340603494924296</a></p>
]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>swift</tag>
        <tag>cs193p</tag>
      </tags>
  </entry>
  <entry>
    <title>cs193p_note8 Animation Demostrastion</title>
    <url>/2022/05/02/cs193p-note8/</url>
    <content><![CDATA[<h2 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h2><h4 id="å®ç°æ´—ç‰ŒåŠ¨ç”»"><a href="#å®ç°æ´—ç‰ŒåŠ¨ç”»" class="headerlink" title="å®ç°æ´—ç‰ŒåŠ¨ç”»"></a>å®ç°æ´—ç‰ŒåŠ¨ç”»</h4><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> shuffle: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">Button</span>(<span class="string">&quot;Shuffle&quot;</span>) &#123;</span><br><span class="line">        withAnimation &#123;</span><br><span class="line">            game.shuffle()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¿«é€Ÿç‚¹å‡»shuffleæŒ‰é’®ï¼Œæœªå®Œæˆçš„åŠ¨ç”»ä¼šè‡ªåŠ¨æš‚åœå¹¶ç»§ç»­æ–°çš„æ“ä½œï¼Œä¸Šé¢å›¾æ¡ˆæ—‹è½¬ä½¿ç”¨çš„æ˜¯éšå¼åŠ¨ç”»ï¼Œç‹¬ç«‹äºæ˜¾ç¤ºï¼Œæ‰€ä»¥èƒ½åœ¨æ—‹è½¬çš„æ—¶å€™å®Œæˆæ´—ç‰Œæ“ä½œã€‚</p>
<span id="more"></span>

<h4 id="ä»€ä¹ˆæ—¶å€™ä½¿ç”¨æ˜¾ç¤ºåŠ¨ç”»"><a href="#ä»€ä¹ˆæ—¶å€™ä½¿ç”¨æ˜¾ç¤ºåŠ¨ç”»" class="headerlink" title="ä»€ä¹ˆæ—¶å€™ä½¿ç”¨æ˜¾ç¤ºåŠ¨ç”»"></a>ä»€ä¹ˆæ—¶å€™ä½¿ç”¨æ˜¾ç¤ºåŠ¨ç”»</h4><p>ç”¨äºIntentå‡½æ•°ï¼Œå½“ä½ è¡¨è¾¾ä½ çš„æ„å›¾æ—¶ï¼Œæ€»æ˜¯è¦ä¿®æ”¹æ¨¡å‹ã€‚åœ¨å› ä¸ºååº”è€Œå¯¹æ¨¡å‹ä¿®æ”¹ï¼Œå˜åŠ¨è§†å›¾æ—¶ä½¿ç”¨</p>
<p>ä¸€è¾¹ä½¿ç”¨<code>withAnimation() &#123;&#125;</code>åŒ…è£¹åœ¨Intentå‘¨å›´</p>
<h4 id="ä¸ºå¡ç‰‡ç¿»è½¬åšåŠ¨ç”»"><a href="#ä¸ºå¡ç‰‡ç¿»è½¬åšåŠ¨ç”»" class="headerlink" title="ä¸ºå¡ç‰‡ç¿»è½¬åšåŠ¨ç”»"></a>ä¸ºå¡ç‰‡ç¿»è½¬åšåŠ¨ç”»</h4><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line">.rotation3DEffect(<span class="type">Angle</span>.degrees(isFaceUp <span class="operator">?</span> <span class="number">0</span> : <span class="number">180</span>), axis: (<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>))</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ—¶ï¼Œè¿˜æ²¡ç¿»è½¬90åº¦ï¼Œå°±ä¼šå‡ºç°å›¾æ¡ˆï¼Œä¸åˆç†ã€‚å› ä¸ºåŠ¨ç”»æ˜¯æ·¡å…¥æ·¡å‡ºï¼Œæ²¡ç¿»è½¬90åº¦æ—¶ï¼Œçº¢è‰²çš„èƒŒé¢ä¼šå˜æ·¡ï¼Œè€Œè¡¨æƒ…ç¬¦å·ä¼šæ…¢æ…¢æ˜¾ç°ï¼Œæ‰€ä»¥è¦è·Ÿè¸ªæ—‹è½¬å¤šå°‘è§’åº¦ï¼Œè¿›è¡Œçªç„¶æ˜¾ç¤º</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">init</span>(<span class="params">isFaceUp</span>: <span class="type">Bool</span>)</span> &#123;</span><br><span class="line">	rotation <span class="operator">=</span> isFaceUp <span class="operator">?</span> <span class="number">0</span> : <span class="number">180</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨isFaceUpå¯¹æ—‹è½¬è§’åº¦è¿›è¡Œåˆå§‹åŒ–ã€‚</p>
<p>ä½¿ç”¨Animatableï¼Œå¯¹æ—‹è½¬è§’åº¦è¿›è¡Œé€æ­¥å˜åŒ–ï¼Œå®ç°åˆ°è¾¾90åº¦æ‰ä¼šå‘ç”Ÿå˜åŒ–ï¼Œè‡ªå®šä¹‰ViewModifier</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> animatableData: <span class="type">Double</span> &#123;</span><br><span class="line">    <span class="keyword">get</span> &#123; rotation &#125;</span><br><span class="line">    <span class="keyword">set</span> &#123; rotation <span class="operator">=</span> newValue &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Transition"><a href="#Transition" class="headerlink" title="Transition"></a>Transition</h4><p>åŒ¹é…æˆåŠŸæ—¶ï¼Œå¡ç‰‡æ¶ˆå¤±æ—¶ä½¿ç”¨äº†è¿‡æ¸¡ï¼Œæ˜¯æ·¡å…¥æ·¡å‡ºçš„å½¢å¼æ¶ˆå¤±çš„</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">CardView</span>(card: card)</span><br><span class="line">	.transition(<span class="type">AnyTransition</span>.scale) <span class="comment">//ä½¿è§†å›¾ç¼©å°å¹¶é€æ¸æ¶ˆå¤±</span></span><br><span class="line">	.transition(<span class="type">AnyTransition</span>.asymmetric(insertion: .scale, removal: .opacity)) </span><br><span class="line"><span class="comment">//è¿›å…¥çš„æ•ˆæœå’Œæ¶ˆå¤±çš„æ•ˆæœä¸ä¸€æ ·ï¼Œä½†æ˜¯æœ¬æ¬¡è§†å›¾æ²¡æœ‰å‡ºç°çš„æ—¶å€™ï¼Œä¸€ç›´åœ¨å±å¹•ä¸Šï¼Œæ‰€ä»¥è¦è®©AspectVGridå…ˆå‡ºç°ï¼Œç„¶åå†å‡ºç°å†…éƒ¨å¡ç‰‡</span></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨<code>@State</code>è¿›è¡ŒçŠ¶æ€è®¾ç½®ï¼Œåˆ©ç”¨ã€‚<code>onAppear()</code>è®©å¡ç‰‡å¤„ç†å‘ç”Ÿåœ¨AspectVGridå‡ºç°åã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@State</span> <span class="keyword">private</span> <span class="keyword">var</span> dealt <span class="operator">=</span> <span class="type">Set</span>&lt;<span class="type">Int</span>&gt;()</span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">deal</span>(<span class="keyword">_</span> <span class="params">card</span>: <span class="type">EmojiMemoryGame</span>.<span class="type">Card</span>)</span> &#123;</span><br><span class="line">    dealt.insert(card.id)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">isUndealt</span>(<span class="keyword">_</span> <span class="params">card</span>: <span class="type">EmojiMemoryGame</span>.<span class="type">Card</span>)</span> -&gt; <span class="type">Bool</span>&#123;</span><br><span class="line">    <span class="operator">!</span>dealt.contains(card.id)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">AspectVGrid</span>(items: game.cards, aspectRatio: <span class="number">2</span><span class="operator">/</span><span class="number">3</span>) &#123; card <span class="keyword">in</span></span><br><span class="line">            <span class="keyword">if</span> isUndealt(card) <span class="operator">||</span> (card.isMatched <span class="operator">&amp;&amp;</span> <span class="operator">!</span>card.isFaceUp) &#123;</span><br><span class="line">                <span class="type">Color</span>.clear</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">CardView</span>(card: card)</span><br><span class="line">        &#125;</span><br><span class="line">        .onAppear&#123;</span><br><span class="line">            <span class="comment">// &quot;deal&quot; card</span></span><br><span class="line">            withAnimation &#123;</span><br><span class="line">                <span class="keyword">for</span> card <span class="keyword">in</span> game.cards &#123;</span><br><span class="line">                    deal(card)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>

<h4 id="çœŸæ­£çš„å‘ç‰Œ"><a href="#çœŸæ­£çš„å‘ç‰Œ" class="headerlink" title="çœŸæ­£çš„å‘ç‰Œ"></a>çœŸæ­£çš„å‘ç‰Œ</h4><p>matchedGeometryEffect</p>
<p>å¦‚æœä½ æƒ³ï¼Œå¯ä»¥å’Œtransitionå…±åŒè¿›è¡Œ</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Namespace</span> <span class="keyword">private</span> <span class="keyword">var</span> dealingNameSpace</span><br><span class="line"><span class="type">CardView</span>(card: card)</span><br><span class="line">	.matchedGeometryEffect(id: card.id, in: dealingNameSpace)</span><br></pre></td></tr></table></figure>

<p>å®ç°ä¸€å¼ ä¸€å¼ çš„å‘ç‰Œ</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">dealAnimation</span>(<span class="params">for</span> <span class="params">card</span>: <span class="type">EmojiMemoryGame</span>.<span class="type">Card</span>)</span> -&gt; <span class="type">Animation</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> delay <span class="operator">=</span> <span class="number">0.0</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> index <span class="operator">=</span> game.cards.firstIndex(where: &#123; <span class="variable">$0</span>.id <span class="operator">==</span> card.id &#125;) &#123;</span><br><span class="line">        delay <span class="operator">=</span> <span class="type">Double</span>(index) <span class="operator">*</span> (<span class="type">CardConstants</span>.totalDealDuration <span class="operator">/</span>      <span class="type">Double</span>(game.cards.count))</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">Animation</span>.easeInOut(duration: <span class="type">CardConstants</span>.dealDuration).delay(delay)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> card <span class="keyword">in</span> game.cards &#123;</span><br><span class="line">    withAnimation(dealAnimation(for: card)) &#123;</span><br><span class="line">        deal(card)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®ç°ä»å¡æ’å †ä»ä¸Šåˆ°ä¸‹å‘ç‰Œï¼Œåœ¨å‘ç‰Œæ—¶æ’é˜Ÿ</p>
<p>åœ¨gamebodyå’ŒdeckbodyåŒæ—¶æ·»åŠ zIndex</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line">.zIndex(zIndex(of: card))</span><br></pre></td></tr></table></figure>

<p>è¾ƒé«˜çš„æ•°å­—æ’åœ¨å‰é¢</p>
<h4 id="é‡å¯æ¸¸æˆ"><a href="#é‡å¯æ¸¸æˆ" class="headerlink" title="é‡å¯æ¸¸æˆ"></a>é‡å¯æ¸¸æˆ</h4><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> restart: <span class="keyword">some</span> <span class="type">View</span> &#123;</span><br><span class="line">    <span class="type">Button</span>(<span class="string">&quot;Restart&quot;</span>) &#123;</span><br><span class="line">        withAnimation &#123;</span><br><span class="line">            dealt <span class="operator">=</span> []</span><br><span class="line">            game.restart()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="è®¡æ—¶ç³»ç»Ÿ"><a href="#è®¡æ—¶ç³»ç»Ÿ" class="headerlink" title="è®¡æ—¶ç³»ç»Ÿ"></a>è®¡æ—¶ç³»ç»Ÿ</h4><p>ä½¿ç”¨å±æ€§è§‚å¯Ÿè€…ï¼Œè®¡ç®—æ—¶é—´</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> isFaceUp <span class="operator">=</span> <span class="literal">false</span> &#123;</span><br><span class="line">    <span class="keyword">didSet</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> isFaceUp &#123;</span><br><span class="line">            startUsingBonusTime()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            stopUsingBonusTime()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> isMatched <span class="operator">=</span> <span class="literal">false</span> &#123;</span><br><span class="line">    <span class="keyword">didSet</span> &#123;</span><br><span class="line">        stopUsingBonusTime()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ›´æ”¹Pieä¸­çš„å‚æ•°è®¾ç½®ï¼Œ<code>endAngle: Angle(degrees: (1-card.bonusRemaining)*360-90)</code>ï¼Œå‘ç°ï¼Œæ—¶é—´åœ¨è®¡æ—¶ï¼Œä½†æ˜¯è§†å›¾å¹¶æ²¡æœ‰å®æ—¶è·Ÿè¸ªã€‚</p>
<p>ä½¿ç”¨@Stateï¼Œè¿½è¸ªæ—¶é—´</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Group</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> card.isConsumingBonusTime &#123; <span class="comment">//å¡ç‰‡æ­£é¢</span></span><br><span class="line">        <span class="type">Pie</span>(startAngle: <span class="type">Angle</span>(degrees: <span class="number">0</span><span class="operator">-</span><span class="number">90</span>), endAngle: <span class="type">Angle</span>(degrees: (<span class="number">1</span><span class="operator">-</span>animatedBonusRemaining)<span class="operator">*</span><span class="number">360</span><span class="operator">-</span><span class="number">90</span>))</span><br><span class="line">        .onAppear &#123;</span><br><span class="line">            <span class="comment">//å¡ç‰‡å‡ºç°æ—¶ï¼Œè®©è¿½è¸ªå˜æˆpieå‰©ä½™å¤§å°ï¼Œç„¶åä»¥å‰©ä½™æ—¶é—´ä¸ºæŒç»­æ—¶é—´å‘0åšåŠ¨ç”»</span></span><br><span class="line">            animatedBonusRemaining <span class="operator">=</span> card.bonusRemaining </span><br><span class="line">            withAnimation(.linear(duration: card.bonusTimeRemaining)) &#123;</span><br><span class="line">                animatedBonusRemaining <span class="operator">=</span> <span class="number">0</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">Pie</span>(startAngle: <span class="type">Angle</span>(degrees: <span class="number">0</span><span class="operator">-</span><span class="number">90</span>), endAngle: <span class="type">Angle</span>(degrees: (<span class="number">1</span><span class="operator">-</span>card.bonusRemaining)<span class="operator">*</span><span class="number">360</span><span class="operator">-</span><span class="number">90</span>))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>swift</tag>
        <tag>cs193p</tag>
      </tags>
  </entry>
  <entry>
    <title>cs193p_note10_Multithreading Demo Gestures</title>
    <url>/2022/07/19/cs193p-note10/</url>
    <content><![CDATA[<h4 id="è®¾ç½®å›¾ç‰‡èƒŒæ™¯"><a href="#è®¾ç½®å›¾ç‰‡èƒŒæ™¯" class="headerlink" title="è®¾ç½®å›¾ç‰‡èƒŒæ™¯"></a>è®¾ç½®å›¾ç‰‡èƒŒæ™¯</h4><p>æ¥æ”¶urlå’Œimage</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> found <span class="operator">=</span> providers.loadObjects(ofType: <span class="type">URL</span>.<span class="keyword">self</span>) &#123; url <span class="keyword">in</span></span><br><span class="line">           document.setBackground(.url(url.imageURL))</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span> <span class="operator">!</span>found &#123;</span><br><span class="line">           found <span class="operator">=</span> providers.loadObjects(ofType: <span class="type">UIImage</span>.<span class="keyword">self</span>) &#123; image <span class="keyword">in</span></span><br><span class="line">               <span class="keyword">if</span> <span class="keyword">let</span> data <span class="operator">=</span> image.jpegData(compressionQuality: <span class="number">1.0</span>) &#123;</span><br><span class="line">                   document.setBackground(.imageData(data))</span><br><span class="line">               &#125;<span class="comment">//å¦‚æœæ˜¯jpg æ— æŸå‹ç¼©</span></span><br><span class="line">           &#125;</span><br><span class="line">       &#125;</span><br></pre></td></tr></table></figure>

<span id="more"></span>

<p>æ›´æ–°èƒŒæ™¯å›¾ç‰‡ï¼Œä¸èƒ½æŠŠbackgroundImageå˜æˆè®¡ç®—å±æ€§ï¼Œå› ä¸ºåœ¨ç¼“æ…¢åœ°ç½‘ç»œè¢«è·å–éœ€è¦å‡ ç§’æˆ–è®¸ä¸€åˆ†é’Ÿ</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Published</span> <span class="keyword">private(set)</span> <span class="keyword">var</span> emojiArt: <span class="type">EmojiArtModel</span> &#123;</span><br><span class="line">    <span class="keyword">didSet</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> emojiArt.background <span class="operator">!=</span> oldValue.background &#123;</span><br><span class="line">            fetchBackgroundImageDataIfNecessary()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>ä½¿ç”¨tryæ¥è§£å†³æŠ›å‡ºé”™è¯¯</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">fetchBackgroundImageDataIfNecessary</span>()</span> &#123;</span><br><span class="line">    backgroundImage <span class="operator">=</span> <span class="literal">nil</span></span><br><span class="line">    <span class="keyword">switch</span> emojiArt.background &#123;</span><br><span class="line">        <span class="keyword">case</span> .url(<span class="keyword">let</span> url):</span><br><span class="line">        <span class="comment">//è·å–url</span></span><br><span class="line">        <span class="keyword">let</span> imageData <span class="operator">=</span> <span class="keyword">try?</span> <span class="type">Data</span>(contentsOf: url) <span class="comment">//ä¼šé˜»å¡UI</span></span><br><span class="line">        <span class="keyword">if</span> imageData <span class="operator">!=</span> <span class="literal">nil</span> &#123;</span><br><span class="line">            backgroundImage <span class="operator">=</span> <span class="type">UIImage</span>(data: imageData<span class="operator">!</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">case</span> .imageData(<span class="keyword">let</span> image):</span><br><span class="line">        backgroundImage <span class="operator">=</span> <span class="type">UIImage</span>(data: image)</span><br><span class="line">        <span class="keyword">case</span> .blank:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä½†æ˜¯ï¼Œurlè€—æ—¶å¾ˆé•¿ï¼Œè¦ä½¿ç”¨å¤šçº¿ç¨‹è§£å†³é—®é¢˜</p>
<ul>
<li>self:å†…éƒ¨æ˜¯ä¸€ä¸ªé—­åŒ…ï¼Œè¢«æ”¾å…¥å†…å­˜å¹¶ä¸”åšæŒåˆ°è¿™ä»¶äº‹å®Œæˆè¿è¡Œï¼Œé—­åŒ…æ˜¯å¼•ç”¨ç±»å‹ã€‚é€šè¿‡selfæŠŠé—­åŒ…å­˜å…¥å†…å­˜å¹¶æŒ‡å‘viewmodelï¼Œè¢«ä¿å­˜åœ¨å †ä¸­ï¼Œå³ä½¿å…³é—­æ–‡æ¡£ä¹Ÿæ— æ³•é€€å‡º</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">DispatchQueue</span>.global(qos: .userInitiated).async &#123;</span><br><span class="line">    <span class="keyword">let</span> imageData <span class="operator">=</span> <span class="keyword">try?</span> <span class="type">Data</span>(contentsOf: url) <span class="comment">//ä¼šé˜»å¡UI</span></span><br><span class="line">    <span class="type">DispatchQueue</span>.main.asunc&#123;</span><br><span class="line">        <span class="keyword">if</span> imageData <span class="operator">!=</span> <span class="literal">nil</span> &#123;</span><br><span class="line">            <span class="keyword">self</span>.backgroundImage <span class="operator">=</span> <span class="type">UIImage</span>(data: imageData<span class="operator">!</span>) <span class="comment">//ä¸åœ¨åå°çº¿ç¨‹ä¸­ä¿®æ”¹UI</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å¼±å¼•ç”¨:ä¸å¼ºåˆ¶selfåœ¨å †ä¸­ï¼Œæ²¡æœ‰å…¶ä»–äººæŠŠå®ƒæ”¾å…¥å †ä¸­å°±ä¼šæ¶ˆå¤±ï¼Œå˜æˆnil</li>
</ul>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">DispatchQueue</span>.main.asunc&#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] <span class="keyword">in</span> </span><br><span class="line">    <span class="keyword">if</span> imageData <span class="operator">!=</span> <span class="literal">nil</span> &#123;</span><br><span class="line">   		<span class="keyword">self</span><span class="operator">?</span>.backgroundImage <span class="operator">=</span> <span class="type">UIImage</span>(data: imageData<span class="operator">!</span>) <span class="comment">//å¦‚æœselfä¸ºnilä¸è¿›è¡Œè¯­å¥æ“ä½œ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå›¾ç‰‡åŠ è½½æ—¶é—´è¿‡é•¿ï¼Œç”¨æˆ·å¯èƒ½ä¼šæ‹–åŠ¨åˆ«çš„å›¾ç‰‡è¿›å…¥ï¼Œä»£ç ä¼šè¢«å†æ¬¡è¿è¡Œï¼Œç­‰ç¬¬ä¸€ä¸ªå›¾ç‰‡åŠ è½½å®Œæˆæ—¶ï¼Œå¯èƒ½ä¼šåŠ è½½ç¬¬ä¸€å¼ å›¾ç‰‡ã€‚å…³äºå¼‚æ­¥å¤šçº¿ç¨‹ç¼–ç¨‹ï¼Œéœ€è¦æ³¨æ„æ¯å½“ä½ ä»æŸäº‹å›æ¥éœ€è¦å¾ˆé•¿çŸ¥è¯†æ—¶ï¼Œæ£€æŸ¥ä¸–ç•Œè¿˜æ˜¯ä¸æ˜¯ä½ ç¦»å¼€æ—¶çš„äºšå­ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">DispatchQueue</span>.main.async &#123; [<span class="keyword">weak</span> <span class="keyword">self</span>] <span class="keyword">in</span></span><br><span class="line">	<span class="keyword">if</span> <span class="keyword">self</span><span class="operator">?</span>.emojiArt.background <span class="operator">==</span> <span class="type">EmojiArtModel</span>.<span class="type">Background</span>.url(url) &#123;</span><br><span class="line">		<span class="keyword">if</span> imageData <span class="operator">!=</span> <span class="literal">nil</span> &#123;</span><br><span class="line">			<span class="keyword">self</span><span class="operator">?</span>.backgroundImage <span class="operator">=</span> <span class="type">UIImage</span>(data: imageData<span class="operator">!</span>)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç»™ç”¨æˆ·æ­£åœ¨åŠ è½½çš„åé¦ˆ</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Published</span> <span class="keyword">var</span> backgroundImageFetchStatus <span class="operator">=</span> <span class="type">BackgroundImageFetchStatus</span>.idle <span class="comment">//ç›‘æµ‹åŠ è½½çŠ¶æ€</span></span><br><span class="line"><span class="class"><span class="keyword">enum</span> <span class="title">BackgroundImageFetchStatus</span> </span>&#123;</span><br><span class="line">    <span class="keyword">case</span> idle <span class="comment">//é—²ç½®</span></span><br><span class="line">    <span class="keyword">case</span> fetching <span class="comment">//åŠ è½½</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Gestures"><a href="#Gestures" class="headerlink" title="Gestures"></a>Gestures</h2><h4 id="ç†è®ºçŸ¥è¯†"><a href="#ç†è®ºçŸ¥è¯†" class="headerlink" title="ç†è®ºçŸ¥è¯†"></a>ç†è®ºçŸ¥è¯†</h4><h4 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h4>]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>swift</tag>
        <tag>cs193p</tag>
      </tags>
  </entry>
  <entry>
    <title>cs193p_note9_EmojiArt Drag and Drop Multithreading</title>
    <url>/2022/05/04/cs193p-note9/</url>
    <content><![CDATA[<h2 id="Collection-of-Identifiables"><a href="#Collection-of-Identifiables" class="headerlink" title="Collection of Identifiables"></a>Collection of Identifiables</h2><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">choose</span>(<span class="keyword">_</span> <span class="params">card</span>: <span class="type">Card</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> index <span class="operator">=</span> cards.firstIndex(where: &#123; <span class="variable">$0</span>.id <span class="operator">==</span> card,id&#125;) &#123;</span><br><span class="line">        cards[index].isFaceUp <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Cardæ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼Œç»“æ„ä½“æ˜¯å€¼ç±»å‹ï¼Œåœ¨ä¼ é€’æ—¶ä¼šè¢«å¤åˆ¶ï¼Œæ‰€ä»¥æƒ³è¦æ”¹å˜å¡ç‰‡çš„isFaceUpéœ€è¦è·å–ç´¢å¼•ï¼Œåœ¨æ•°ç»„ä¸­æ‰¾åˆ°ä¿®æ”¹çš„ä½ç½®ã€‚</p>
<span id="more"></span>

<p>åœ¨æ•°ç»„ä¸­å­˜ç»“æ„ä½“æ—¶å¾ˆå¸¸è§ï¼Œå¯ä»¥åˆ©ç”¨ä¸€ä¸ªå°å‡½æ•°è§£å†³ã€‚</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">index</span>(<span class="params">matching</span> <span class="params">element</span>: <span class="type">Element</span>)</span> -&gt; <span class="type">Int</span>? &#123;</span><br><span class="line">    <span class="keyword">return</span> firstIndex(where: &#123; <span class="variable">$0</span>.id <span class="operator">==</span> element.id &#125;)</span><br><span class="line">&#125;</span><br><span class="line">card.index(matching: card)</span><br></pre></td></tr></table></figure>

<p>å°†å‡½æ•°æ”¾åœ¨æ‰©å±•Arrayä¸­ï¼ˆä¹Ÿé€‚ç”¨äºSetï¼‰</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Array</span> <span class="title">where</span> <span class="title">Element</span>: <span class="title">Identifiable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">index</span>(<span class="params">matching</span> <span class="params">element</span>: <span class="type">Element</span>)</span> -&gt; <span class="type">Int</span>? &#123;</span><br><span class="line">        <span class="keyword">return</span> firstIndex(where: &#123; <span class="variable">$0</span>.id <span class="operator">==</span> element.id &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å½“ç„¶ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠä»£ç æ”¾åœ¨Collectionåè®®ä¸­ï¼ŒSetå’ŒArrayéƒ½å®ç°</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">Collection</span> <span class="title">where</span> <span class="title">Element</span>: <span class="title">Identifiable</span> </span>&#123;<span class="comment">//ä¸å¯å˜é›†åˆ</span></span><br><span class="line">    <span class="function"><span class="keyword">func</span> <span class="title">index</span>(<span class="params">matching</span> <span class="params">element</span>: <span class="type">Element</span>)</span> -&gt; <span class="keyword">Self</span>.<span class="type">Index</span>? &#123;<span class="comment">//ç´¢å¼•ä¸ä¸€å®šæ˜¯Intï¼Œæ˜¯ä¸ªæ³›å‹</span></span><br><span class="line">        firstIndex(where: &#123; <span class="variable">$0</span>.id <span class="operator">==</span> element.id &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">    <span class="comment">//Collectionä¸­ä¸åŒ…æ‹¬removeï¼Œæ‰€ä»¥æŠŠå†…å®¹æ·»åŠ åˆ°RangeReplaceableCollection</span></span><br><span class="line"><span class="class"><span class="keyword">extension</span> <span class="title">RangeReplaceableCollection</span> <span class="title">where</span> <span class="title">Element</span>: <span class="title">Identifiable</span> </span>&#123;<span class="comment">//å¯å˜é›†åˆ</span></span><br><span class="line">    <span class="keyword">mutating</span> <span class="function"><span class="keyword">func</span> <span class="title">remove</span>(<span class="keyword">_</span> <span class="params">element</span>: <span class="type">Element</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> index <span class="operator">=</span> index(matching: element) &#123;</span><br><span class="line">            remove(at: index)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>RangeReplaceCollectionå¯ä»¥æ·»åŠ ä¸‹æ ‡ï¼Œå¯ä»¥ä½¿ç”¨æ•°ç»„ä¸‹æ ‡æˆ–å¯è¯†åˆ«çš„é›†åˆå˜æˆå¯è¯†åˆ«çš„ï¼Œ<code>cards[card].isFaceUp = true</code></p>
<h2 id="Color-amp-UIColor-amp-CGColor"><a href="#Color-amp-UIColor-amp-CGColor" class="headerlink" title="Color&amp;UIColor&amp;CGColor"></a>Color&amp;UIColor&amp;CGColor</h2><h4 id="Color"><a href="#Color" class="headerlink" title="Color"></a>Color</h4><ul>
<li>ç”¨æ¥æŒ‡å®šé¢œè‰² <code>.foregroundColor(Color.green)</code></li>
<li>ä½œä¸ºShapeStyleï¼Œå¡«å……ï¼Œ<code>.fill(Color.blue)</code></li>
<li>åƒè§†å›¾ä¸€æ ·ï¼Œ<code>Color.white</code></li>
</ul>
<h4 id="UIColor"><a href="#UIColor" class="headerlink" title="UIColor"></a>UIColor</h4><ul>
<li>æœ‰å¾ˆå¤šAPIï¼Œèƒ½è·å–å¹¶è°ƒæ•´RGBï¼Œé¢œè‰²é¥±å’Œåº¦ï¼Œäº®åº¦</li>
<li>æ‹¥æœ‰UIColorï¼Œå¯ä»¥ç”¨Colorä½¿ç”¨ï¼Œ<code>Color(uiColor: )</code></li>
</ul>
<h4 id="CGColor"><a href="#CGColor" class="headerlink" title="CGColor"></a>CGColor</h4><ul>
<li>Core Graphicä¸­åŸºç¡€çš„é¢œè‰²è¡¨ç¤º</li>
<li>ä½¿ç”¨<code>color.cgColor</code>è¡¨ç¤º ä¸èƒ½ä¿è¯æ¯ä¸€ä¸ªéƒ½èƒ½è¢«è¡¨ç¤º</li>
<li>å¦‚æœå°†Colorå˜æˆUIColorå¯èƒ½ä¼šä½¿ç”¨</li>
</ul>
<h2 id="Image-amp-UIImage"><a href="#Image-amp-UIImage" class="headerlink" title="Image&amp;UIImage"></a>Image&amp;UIImage</h2><h4 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h4><ul>
<li>ä¸»è¦æ˜¯ä¸€ä¸ªè§†å›¾</li>
<li>ä¸æ˜¯å®¹çº³å›¾ç‰‡çš„ç±»å‹ï¼Œæ˜¯æ˜¾ç¤ºå›¾ç‰‡çš„è§†å›¾</li>
<li>å¯ä»¥åœ¨Assets.xcassetsä¸­è®¿é—®å›¾ç‰‡ <code>Image(_ name: String)</code></li>
<li>ä½¿ç”¨<code>Image(systemName:)</code>åˆ›å»ºSFç¬¦å·ï¼Œä½¿ç”¨<code>.imageScale()</code>è°ƒæ•´SFç¬¦å·å¤§å°ï¼ŒSFè§†å›¾å—å­—ä½“å½±å“ï¼Œå¯ä»¥å½“è’™ç‰ˆä½¿ç”¨</li>
</ul>
<h4 id="UIImage"><a href="#UIImage" class="headerlink" title="UIImage"></a>UIImage</h4><ul>
<li>èƒ½ç¼©æ”¾è°ƒæ•´å¤§å°ç­‰ï¼Œæ˜¯ç”¨æ¥å­˜å‚¨å›¾ç‰‡çš„å˜é‡</li>
<li>ä½¿ç”¨<code>Image(uiImage:)</code>æ¥æ˜¾ç¤º</li>
</ul>
<h2 id="Drag-and-Drop"><a href="#Drag-and-Drop" class="headerlink" title="Drag and Drop"></a>Drag and Drop</h2><p>ä»ä¸€ä¸ªåº”ç”¨æ‹–åˆ°å¦ä¸€ä¸ªåº”ç”¨ä¼ è¾“æ•°æ®ï¼Œä»Safariæ‹–åŠ¨å›¾ç‰‡åˆ°appã€‚æ ¸å¿ƒç±»æ˜¯<code>NSItemProvider</code>ç±»ï¼Œè¿›ç¨‹ä¹‹é—´çš„æ•°æ®ä¼ è¾“ã€‚</p>
<p>ä¾¿åˆ©åœ°è½¬ç§»ä¸åŒæ•°æ®ç±»å‹</p>
<ul>
<li>NSAttributedStringå…·æœ‰æ ¼å¼çš„å­—ç¬¦ä¸²  NSString</li>
<li>NSURL</li>
<li>UIImage UIColor</li>
</ul>
<p>ä½¿ç”¨è¿æ¥æ•°æ®ç±»å‹å’ŒNSç±»å‹ï¼ŒString as NSString</p>
<h2 id="Dome"><a href="#Dome" class="headerlink" title="Dome"></a>Dome</h2><h4 id="æ‹–æ”¾"><a href="#æ‹–æ”¾" class="headerlink" title="æ‹–æ”¾"></a>æ‹–æ”¾</h4><p>å€ŸåŠ©OCä¸­å†…å®¹å®Œæˆæ‹–æ”¾ï¼Œä½¿ç”¨asè½¬æ¢æ•°æ®ç±»å‹ï¼ŒNSItemProviderå°†æ•°æ®æä¾›ç»™åˆ«äºº</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">Text</span>(emoji)</span><br><span class="line">	.onDrag &#123; <span class="type">NSItemProvider</span>(object: emoji <span class="keyword">as</span> <span class="type">NSString</span>) &#125;</span><br></pre></td></tr></table></figure>

<p>æ”¾ä¸‹æ—¶ï¼Œéœ€è¦å°†æ•´ä¸ªVstackä¸‹æ”¾ç½®drop</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ofåæ·»åŠ å¯æ”¾ä¸‹çš„ç±»å‹</span></span><br><span class="line">.onDrop(of: [.plainText], isTargeted: <span class="literal">nil</span>) &#123; providers, location <span class="keyword">in</span></span><br><span class="line">	<span class="keyword">return</span> drop(providers: providers, at: location)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">func</span> <span class="title">drop</span>(<span class="params">providers</span>: [<span class="type">NSItemProvider</span>], <span class="params">at</span> <span class="params">location</span>: <span class="type">CGPoint</span>, <span class="params">in</span> <span class="params">geometry</span>: <span class="type">GeometryProxy</span>)</span> -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">	<span class="keyword">return</span> providers.loadObjects(ofType: <span class="type">String</span>.<span class="keyword">self</span>) &#123; string <span class="keyword">in</span> <span class="comment">//æä¾›è€…æ˜¯å¦æœ‰å­—ç¬¦ä¸²,å°†å¼‚æ­¥æ“ä½œå†…å®¹,å› ä¸ºæä¾›è€…å¯èƒ½é‡‡ç”¨å¤šçº¿ç¨‹æä¾›ä¿¡æ¯,è„±ç¦»ä¸»çº¿ç¨‹</span></span><br><span class="line">		<span class="keyword">if</span> <span class="keyword">let</span> emoji <span class="operator">=</span> string.first, emoji.isEmoji &#123;</span><br><span class="line">			document.addEmoji(</span><br><span class="line">				<span class="type">String</span>(emoji),</span><br><span class="line">				at: convertToEmojiCoordinates(location, in: geometry), <span class="comment">//å°†CGPointè½¬æ¢æˆå…ƒç»„</span></span><br><span class="line">				size: defaultEmojiFontSize)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¤šçº¿ç¨‹-Multithreading"><a href="#å¤šçº¿ç¨‹-Multithreading" class="headerlink" title="å¤šçº¿ç¨‹ Multithreading"></a>å¤šçº¿ç¨‹ Multithreading</h2><p>ä»æµè§ˆå™¨æ‰¾åˆ°å›¾ç‰‡æ‹–è¿›å»ï¼Œä½†æ˜¯ä»äº’è”ç½‘ä¸‹è½½å›¾ç‰‡å¯èƒ½éœ€è¦å‡ ç§’é’Ÿï¼Œå¯èƒ½ä¼šå½±å“UIå“åº”ã€‚</p>
<p>UIéœ€è¦å“åº”ç”¨æˆ·å†…å®¹ï¼Œä½†æœ‰äº›æ“ä½œéœ€è¦æ¯”è¾ƒé•¿çš„æ—¶é—´ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ä¸åŒçš„çº¿ç¨‹ä¸Šæ‰§è¡Œæ“ä½œï¼Œæ‰èƒ½ä¿è¯UIå“åº”</p>
<h4 id="çº¿ç¨‹-treads"><a href="#çº¿ç¨‹-treads" class="headerlink" title="çº¿ç¨‹ treads"></a>çº¿ç¨‹ treads</h4><p>å¯ä»¥æŒ‡å®šçº¿ç¨‹ç”¨äºå“ªäº›ä»£ç ï¼Œå¿«é€Ÿåˆ‡æ¢çº¿ç¨‹çœ‹èµ·æ¥åƒåŒæ—¶åœ¨è¿è¡Œã€‚æœ‰ä¸€äº›çº¿ç¨‹æ‹¥æœ‰æ›´é«˜çš„ä¼˜å…ˆçº§</p>
<p>ä½¿ç”¨é˜Ÿåˆ—ç®¡ç†å¤æ‚çš„çº¿ç¨‹</p>
<h4 id="Queues-Closures"><a href="#Queues-Closures" class="headerlink" title="Queues Closures"></a>Queues Closures</h4><p>é˜Ÿåˆ—åªæ˜¯ä¸€å †æ’é˜Ÿç­‰å¾…çº¿ç¨‹æ‰§è¡Œçš„ä»£ç å—ã€‚æŒ‡å®šåœ¨é˜Ÿåˆ—é‡Œç­‰å¾…çš„ä»£ç å—æ˜¯é—­åŒ…ã€‚</p>
<p>å¤šçº¿ç¨‹APIçš„æ ¸å¿ƒæ˜¯&#x3D;&#x3D;å°†é—­åŒ…æ”¾è¿›é˜Ÿåˆ—&#x3D;&#x3D;</p>
<h4 id="Main-Queue"><a href="#Main-Queue" class="headerlink" title="Main Queue"></a>Main Queue</h4><p>æœ€é‡è¦çš„é˜Ÿåˆ—æ˜¯main queueï¼Œæ˜¯åŒ…å«æ‰€æœ‰å¯èƒ½ç ´åUIç•Œé¢çš„ä»£ç å—ï¼Œæ‰€æœ‰çš„UIçš„æ“ä½œéƒ½éœ€è¦ä¸»é˜Ÿåˆ—</p>
<p>ç³»ç»Ÿä½¿ç”¨å•çº¿ç¨‹æ‰§è¡Œå¤„ç†æ‰€æœ‰åœ¨ä¸»é˜Ÿåˆ—ä¸­çš„ä»£ç å—ï¼Œæ‰€ä»¥å¯ä»¥ä½¿ç”¨ä¸»é˜Ÿåˆ—ä½œä¸ºåŒæ­¥ç‚¹(synchronize)ã€‚å¯ä»¥å¯¹æ•°æ®ç»“æ„çš„å†™å…¥åœ¨ä¸»é˜Ÿåˆ—ï¼Œä½ çš„è¯»å–å¯ä»¥å‘ç”Ÿåœ¨ä»»ä½•é˜Ÿåˆ—ã€‚</p>
<h4 id="Background-Queues"><a href="#Background-Queues" class="headerlink" title="Background Queues"></a>Background Queues</h4><p>æœ‰ä¸€å †åå°é˜Ÿåˆ—ç”¨æ¥æ‰§è¡Œé•¿æœŸçš„ã€éUIä»»åŠ¡ï¼Œä¾‹å¦‚è¯·æ±‚ç½‘ç»œã€æœºå™¨å­¦ä¹ ã€‚</p>
<p>ç³»ç»Ÿæœ‰ä¸€å †å¯ç”¨çš„çº¿ç¨‹æ‰§è¡Œåå°é˜Ÿåˆ—ä¸Šçš„ä»£ç å—ï¼Œå¯ä»¥å¹¶è¡Œæ‰§è¡Œ</p>
<h4 id="GCD"><a href="#GCD" class="headerlink" title="GCD"></a>GCD</h4><p>å¤„ç†é˜Ÿåˆ—çš„åŸºç¡€APIæ˜¯GCD(Grand Central Dispatch)</p>
<p>åŸºç¡€åŠŸèƒ½</p>
<ul>
<li>è®¿é—®é˜Ÿåˆ—</li>
<li>å°†ä¸€æ®µä»£ç æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­</li>
</ul>
<h4 id="åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—"><a href="#åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—" class="headerlink" title="åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—"></a>åˆ›å»ºä¸€ä¸ªé˜Ÿåˆ—</h4><p>main queueæ˜¯DispatchQueueä¸Šçš„é™æ€å˜é‡</p>
<figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="type">DispatchQueue</span>.main <span class="comment">//æ‰€æœ‰çš„UIä»£ç å¿…é¡»æ”¾åœ¨è¿™é‡Œå‘å¸ƒ</span></span><br><span class="line"><span class="type">DispatchQueue</span>.global(qos: <span class="type">QoS</span>) <span class="comment">//æœåŠ¡è´¨é‡</span></span><br><span class="line">qos</span><br><span class="line">	.userInteractive <span class="comment">//å‡ ä¹å’Œä¸»é˜Ÿåˆ—ä¸€æ ·é‡è¦ï¼Œä¸ç”¨æˆ·è¿›è¡Œå®æ—¶äº¤äº’ï¼Œè®¡ç®—å†…å®¹æ›´æ–°åˆ°UIä¸Šï¼Œé€Ÿåº¦æœ€å¿«</span></span><br><span class="line">	.userInitiated   <span class="comment">//ç”¨æˆ·è§¦å‘çº§ï¼Œç”¨æˆ·ç‚¹å‡»æŒ‰é’®ï¼Œåœ¨ç½‘ä¸Šç‚¹å‡»ä¸‹è½½ç­‰ç°åœ¨é©¬ä¸Šè¦åšçš„å†…å®¹ UIç•Œé¢ä¾ç„¶æ´»è·ƒ</span></span><br><span class="line">	.utility	  	 <span class="comment">//å®ç”¨çº§ æ¸…ç†æ•°æ®åº“ç­‰ï¼Œä¸éœ€è¦é©¬ä¸Šå»åš</span></span><br><span class="line">	.background		 <span class="comment">//èƒŒæ™¯çº§ è‡ªåŠ¨ä»»åŠ¡æˆ–å®šæ—¶å¤„ç†ä»»åŠ¡ç­‰</span></span><br></pre></td></tr></table></figure>

<h4 id="åœ¨é˜Ÿåˆ—ä¸Šæ”¾ç½®é—­åŒ…"><a href="#åœ¨é˜Ÿåˆ—ä¸Šæ”¾ç½®é—­åŒ…" class="headerlink" title="åœ¨é˜Ÿåˆ—ä¸Šæ”¾ç½®é—­åŒ…"></a>åœ¨é˜Ÿåˆ—ä¸Šæ”¾ç½®é—­åŒ…</h4><figure class="highlight swift"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> queue <span class="operator">=</span> <span class="type">DispatchQueue</span>.main</span><br><span class="line">queue.async &#123; &#125; <span class="comment">//å¼‚æ­¥</span></span><br><span class="line">queue.sync &#123; &#125;<span class="comment">//åŒæ­¥</span></span><br></pre></td></tr></table></figure>

<p>åŒæ­¥ï¼Œä»£ç æ‰§è¡Œå®Œæ‰ä¼šè¿”å›ï¼Œé˜»å¡å½“å‰çº¿ç¨‹ï¼Œä¸åœ¨ä¸»é˜Ÿåˆ—ä¸­ä½¿ç”¨</p>
<p>å¼‚æ­¥ï¼Œå°†ä»£ç å—æ”¾åˆ°é˜Ÿåˆ—ä¸­ï¼Œç«‹åˆ»è¿”å›</p>
<p>å¯ä»¥æŠŠå»¶æ—¶æ”¾åœ¨é˜Ÿåˆ—ä¸­</p>
<h4 id="URLSession"><a href="#URLSession" class="headerlink" title="URLSession"></a>URLSession</h4>]]></content>
      <categories>
        <category>iOS</category>
      </categories>
      <tags>
        <tag>swift</tag>
        <tag>cs193p</tag>
      </tags>
  </entry>
</search>
